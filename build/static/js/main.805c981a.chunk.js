(this.webpackJsonppawsibly=this.webpackJsonppawsibly||[]).push([[0],{143:function(e,t,n){},157:function(e,t,n){},159:function(e,t,n){},163:function(e,t,n){},167:function(e,t,n){},209:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},248:function(e,t,n){},249:function(e,t,n){},250:function(e,t,n){},251:function(e,t,n){},252:function(e,t,n){},253:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){},261:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(32),r=n.n(s),i=(n(157),n(4)),o=n(14),l=n(278),j=n(281),d=n(2),u=function(e,t){switch(t.type){case"GET_SITTERS":return Object(d.a)(Object(d.a)({},e),{},{sitters:t.payload,loading:!1});case"GET_SITTER":return Object(d.a)(Object(d.a)({},e),{},{sitter:t.payload.sitter,sitterReviews:t.payload.sitterReviews,loading:!1});case"SET_LOADING":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});default:return e}},b=n(0),h=Object(c.createContext)(),O=function(e){var t=e.children,n=Object(c.useReducer)(u,{sitters:[],sitter:{},sitterReviews:[],loading:!1}),a=Object(i.a)(n,2),s=a[0],r=a[1];return Object(b.jsx)(h.Provider,{value:Object(d.a)({dispatch:r},s),children:t})},x=h,p=function(e,t){switch(t.type){case"GET_USER":return Object(d.a)(Object(d.a)({},e),{},{userData:t.payload,loading:!1});case"GET_REVIEW":return Object(d.a)(Object(d.a)({},e),{},{reviewList:t.payload,loading:!1});case"SET_LOADING":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});default:return e}},m=Object(c.createContext)(),f=function(e){var t=e.children,n=Object(c.useReducer)(p,{userData:{},reviewList:[],loading:!1}),a=Object(i.a)(n,2),s=a[0],r=a[1];return Object(b.jsx)(m.Provider,{value:Object(d.a)({dispatch:r},s),children:t})},v=m,g=n(54),w=n(55),y=n(101),N=n(100),S=n(117),k=(n(159),function(e){Object(y.a)(n,e);var t=Object(N.a)(n);function n(e){var c;return Object(g.a)(this,n),(c=t.call(this,e)).handleClose=function(){return c.setState({show:!1})},c.state={show:!0},c.timeoutId=null,c}return Object(w.a)(n,[{key:"componentDidMount",value:function(){this.timeoutId=setTimeout(this.handleClose,5e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e=this.props,t=e.variant,n=e.heading,c=e.message,a=e.deleteAlert,s=e.id;return this.state.show||setTimeout((function(){a(s)}),300),Object(b.jsx)(S.a,{dismissible:!0,show:this.state.show,variant:t,onClose:this.handleClose,children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(S.a.Heading,{children:n}),Object(b.jsx)("p",{className:"alert-body",children:c})]})})}}]),n}(a.a.Component)),C=n(51),T=n(72),_=n(12),E=(n(163),{color:"white",textDecoration:"none",marginLeft:"10px"}),P=Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(C.a.Link,{children:Object(b.jsx)(_.b,{to:"profile",style:E,children:"Profile"})}),Object(b.jsx)(C.a.Link,{children:Object(b.jsx)(_.b,{to:"sign-out",style:E,children:"Sign Out"})})]}),A=Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(C.a.Link,{children:Object(b.jsx)(_.b,{to:"sign-up",style:E,children:"Sign Up"})}),Object(b.jsx)(C.a.Link,{children:Object(b.jsx)(_.b,{to:"sign-in",style:E,children:"Sign In"})})]}),D=Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(C.a.Link,{children:Object(b.jsx)(_.b,{to:"/",style:E,children:"Home"})})}),I=function(e){var t=e.user;return Object(b.jsxs)(T.a,{className:"header",bg:"warning",variant:"dark",expand:"md",children:[Object(b.jsx)(T.a.Brand,{children:Object(b.jsx)(_.b,{to:"/",style:E,children:Object(b.jsxs)("h1",{className:"title",children:[Object(b.jsx)("i",{id:"paws",class:"fas fa-paw fa-sm"}),"Pawsibly"]})})}),Object(b.jsx)(T.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(b.jsx)(T.a.Collapse,{id:"basic-navbar-nav",children:Object(b.jsxs)(C.a,{className:"links",children:[D,t?P:A]})})]})};function L(e){var t=e.user,n=e.children;return null!==t?n:Object(b.jsx)(o.a,{to:"/sign-in",replace:!0})}var R=n(13),G=n.n(R),z=n(16),q=n(282);var F=function(e,t){return Object(b.jsxs)("div",{className:"rating",children:[Object(b.jsx)("span",{children:Object(b.jsx)("i",{style:{color:e.color},className:e.value>=1?"fas fa-star":e.value>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(b.jsx)("span",{children:Object(b.jsx)("i",{style:{color:e.color},className:e.value>=2?"fas fa-star":e.value>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(b.jsx)("span",{children:Object(b.jsx)("i",{style:{color:e.color},className:e.value>=3?"fas fa-star":e.value>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(b.jsx)("span",{children:Object(b.jsx)("i",{style:{color:e.color},className:e.value>=4?"fas fa-star":e.value>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(b.jsx)("span",{children:Object(b.jsx)("i",{style:{color:e.color},className:e.value>=5?"fas fa-star":e.value>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(b.jsx)("span",{children:e.text&&e.text})]})},H=(n(167),{textDecoration:"none",color:"black"});var U=function(e){var t=e.sitter,n=t.id,c=t.image,a=t.city,s=t.rating,r=t.zipcode,i=t.numReviews,o=t.price;return Object(b.jsx)("div",{className:"allsitter",children:Object(b.jsxs)(q.a,{className:"my-3 p-3 rounded",children:[Object(b.jsx)(_.b,{to:"/sitterlisting/".concat(n),children:Object(b.jsx)(q.a.Img,{className:"sitterimages",src:c})}),Object(b.jsxs)(q.a.Body,{children:[Object(b.jsx)(_.b,{to:"/sitterlisting/".concat(n),style:H,children:Object(b.jsx)(q.a.Title,{as:"div",children:Object(b.jsxs)("h5",{children:[a,Object(b.jsx)("br",{})," ",r]})})}),Object(b.jsx)(q.a.Text,{as:"div",children:Object(b.jsxs)("div",{className:"my-3",children:[s," (",i," reviews)",Object(b.jsx)(F,{value:s,color:"#f8e825"})]})}),Object(b.jsxs)(q.a.Text,{as:"h5",children:["$",o]})]})]})})},B=n(24),J=n(275),M=n(149),W=(n(209),n(17)),$=n.n(W),Z="https://pawsibly.herokuapp.com",K="http://127.0.0.1:8000",V="localhost"===window.location.hostname?K:Z,Q=function(){var e=Object(z.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("".concat(V,"/sitters"));case 2:return t=e.sent,e.abrupt("return",t.data.sitters);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(z.a)(G.a.mark((function e(t){var n,c,a,s;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([$.a.get("".concat(V,"/sitters/").concat(t)),$.a.get("".concat(V,"/reviews/").concat(t))]);case 2:return n=e.sent,c=Object(i.a)(n,2),a=c[0],s=c[1],e.abrupt("return",{sitter:a.data.sitter,sitterReviews:s.data.reviews});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n(228);var Y=function(){return Object(b.jsxs)("div",{className:"spinner",children:[Object(b.jsx)("img",{className:"dog",src:"/static/images/runningdog.gif",alt:"loading..."}),Object(b.jsx)("img",{className:"circle",src:"/static/images/circles.gif",alt:"loading..."})]})},ee=function(){var e=Object(c.useContext)(x),t=e.sitters,n=e.loading,a=e.dispatch,s=Object(c.useState)(""),r=Object(i.a)(s,2),o=r[0],l=r[1];Object(c.useEffect)((function(){a({type:"SET_LOADING"});var e=function(){var e=Object(z.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:t=e.sent,a({type:"GET_SITTERS",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var j=t.slice(-3);return n?Object(b.jsx)(Y,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"section white",children:Object(b.jsxs)("div",{className:"searchbar",children:[Object(b.jsx)("h4",{className:"header",children:"Find local pet sitters near you"}),Object(b.jsx)("input",{type:"text",id:"ip2",placeholder:"Search by zipcode or city",value:o,onChange:function(e){return l(e.target.value)},required:!0}),Object(b.jsx)(_.b,{to:"/searchpage/".concat(o),children:Object(b.jsx)("button",{className:"btn-floating btn-large waves-effect waves-light red accent-2",children:Object(b.jsx)("i",{className:"material-icons",children:"send"})})}),Object(b.jsx)("h4",{className:"explore",children:"Explore "}),Object(b.jsx)("div",{className:"sitters",children:Object(b.jsx)(J.a,{style:{justifyContent:"center"},children:j.map((function(e){return Object(b.jsx)(M.a,{sm:12,md:6,lg:4,xl:3,children:Object(b.jsx)(U,{sitter:e})},e.id)}))})})]})}),Object(b.jsxs)("div",{children:[Object(b.jsx)(B.Parallax,{image:Object(b.jsx)("img",{alt:"cat",src:"/static/images/cat.png"}),options:{responsiveThreshold:0}}),Object(b.jsx)("div",{className:"section white",children:Object(b.jsxs)("div",{className:"searchbar",children:[Object(b.jsx)("h2",{className:"header",children:"Search for a nearby sitter"}),Object(b.jsx)("p",{className:"grey-text text-darken-3 lighten-3",children:"With Pawsibly, your pet stays in a sitter's home, whether you're traveling for a few days or just out for the day. Here's how it works."}),Object(b.jsxs)("div",{className:"row",style:{marginTop:"50px"},children:[Object(b.jsxs)("div",{className:"col s4",children:[Object(b.jsx)("i",{className:"large material-icons",children:"search"}),Object(b.jsx)("h3",{children:"1. Find a sitter near you"})]}),Object(b.jsxs)("div",{className:"col s4",children:[Object(b.jsx)("i",{className:"large material-icons",children:"schedule"}),Object(b.jsx)("h3",{children:"2. Schedule a booking"})]}),Object(b.jsxs)("div",{className:"col s4",children:[Object(b.jsx)("i",{className:"large material-icons",children:"comment"}),Object(b.jsx)("h3",{children:"3. Leave a review"})]})]})]})}),Object(b.jsx)(B.Parallax,{image:Object(b.jsx)("img",{alt:"",src:"/static/images/dog.png"}),options:{responsiveThreshold:0}})]})]})},te=n(276),ne=n(95),ce=n(280),ae=(n(229),function(e,t,n,c){function a(){return(a=Object(z.a)(G.a.mark((function a(){var s,r;return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,$.a.get("".concat(V,"/").concat(e),{headers:{Authorization:"Token ".concat(c.token)}});case 3:s=a.sent,r=s.data,t(r[n]),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),se=function(){var e=Object(z.a)(G.a.mark((function e(t){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.a.get("".concat(V,"/profile"),{headers:{Authorization:"Token ".concat(t.token)}});case 3:return n=e.sent,e.abrupt("return",n.data.user);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),re=function(e){return $()({url:V+"/sign-in",method:"POST",data:{credentials:{email:e.email,password:e.password}}})};function ie(e){var t=e.user,n=Object(c.useState)(),a=Object(i.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)(!1),l=Object(i.a)(o,2),j=l[0],d=l[1],u=Object(c.useState)(!1),h=Object(i.a)(u,2),O=h[0],x=h[1],p=Object(c.useContext)(v),m=p.userData,f=p.dispatch,g=p.loading;if(Object(c.useEffect)((function(){f({type:"SET_LOADING"});var e=function(){var e=Object(z.a)(G.a.mark((function e(){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:n=e.sent,f({type:"GET_USER",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[f,t,j]),g)return Object(b.jsx)(Y,{});return Object(b.jsx)("div",{className:"profile",children:Object(b.jsxs)(J.a,{children:[Object(b.jsx)(M.a,{md:3,sm:12,xs:12,children:Object(b.jsxs)(q.a,{children:[Object(b.jsx)(te.a,{src:m.image,fluid:!0}),Object(b.jsx)(ne.a,{variant:"success",onClick:function(){return x(!0)},children:"upload photo"}),Object(b.jsxs)(ce.a,{show:O,onHide:function(){return x(!1)},backdrop:"static",keyboard:!1,children:[Object(b.jsx)(ce.a.Header,{closeButton:!0,children:Object(b.jsx)(ce.a.Title,{children:"upload photo"})}),Object(b.jsx)("label",{children:Object(b.jsx)("input",{type:"file",onChange:function(e){return r(e.target.files[0])}})}),Object(b.jsx)(ne.a,{variant:"success ",onClick:function(){return function(e){var n=new FormData;n.append("image",s),n.append("id",m.id),fetch("".concat(V,"/profileImage"),{method:"POST",headers:{Authorization:"Token ".concat(t.token)},body:n}).then((function(e){d((function(e){return!e}))})).catch((function(e){console.log(e)})),x(!1)}()},children:"upload"})]})]})}),Object(b.jsx)(M.a,{md:5,children:Object(b.jsxs)("div",{className:"profilescreen_info",children:[Object(b.jsx)(J.a,{children:Object(b.jsxs)("h3",{className:"flow-text",children:["Hello, ",m.first_name,"!"]})}),Object(b.jsxs)(J.a,{className:"profilescreen_buttons",children:[Object(b.jsx)(M.a,{md:6,children:Object(b.jsx)(_.b,{className:"link",to:"/hostapet",children:Object(b.jsx)(ne.a,{variant:"warning",children:m.post_owned===[]?"My Listing":"Host a Pet"})})}),Object(b.jsx)(M.a,{md:6,children:Object(b.jsx)(_.b,{className:"link",to:"/myreviews",children:Object(b.jsx)(ne.a,{variant:"warning",children:"My Reviews"})})})]}),Object(b.jsxs)(J.a,{className:"profilescreen_buttons",children:[Object(b.jsx)(M.a,{md:6,children:Object(b.jsx)(_.b,{to:"/pets/",children:Object(b.jsx)(ne.a,{variant:"warning",children:"My Pets"})})}),Object(b.jsx)(M.a,{md:6,children:Object(b.jsx)(_.b,{to:"/change-password/",children:Object(b.jsx)(ne.a,{variant:"warning",children:"Change Pw"})})})]}),Object(b.jsx)(J.a,{className:"profilescreen_buttons",children:Object(b.jsx)(M.a,{md:6,children:Object(b.jsx)(_.b,{className:"link",to:"/mybookings",children:Object(b.jsx)(ne.a,{variant:"warning",children:"My Bookings"})})})})]})}),Object(b.jsx)(M.a,{className:"ml-6",md:4,children:Object(b.jsx)("i",{className:"fas fa-paw paw fa-10x"})})]})})}var oe=n(35),le=n.n(oe),je=n(21),de={height:"80vh"},ue=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),l=Object(i.a)(r,2),j=l[0],d=l[1],u=Object(c.useState)(""),h=Object(i.a)(u,2),O=h[0],x=h[1],p=Object(c.useState)(""),m=Object(i.a)(p,2),f=m[0],v=m[1],g=Object(c.useState)(""),w=Object(i.a)(g,2),y=w[0],N=w[1],S=Object(o.g)();return Object(b.jsx)("div",{className:"row",style:de,children:Object(b.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(b.jsx)("h3",{children:"Sign Up"}),Object(b.jsxs)(je.a,{onSubmit:function(t){t.preventDefault();var n=e.msgAlert,c=e.setUser,s={first_name:a,last_name:j,email:O,password:f,passwordConfirmation:y};(function(e){return $()({method:"POST",url:V+"/sign-up",data:{credentials:{email:e.email,password:e.password,password_confirmation:e.passwordConfirmation,first_name:e.first_name,last_name:e.last_name}}})})(s).then((function(){return re(s)})).then((function(e){return c(e.data.user)})).then((function(){return n({heading:"Sign Up Success",message:le.a.signUpSuccess,variant:"success"})})).then((function(){return S("/")})).catch((function(e){x(""),v(""),N(""),n({heading:"Sign Up Failed with error: "+e.message,message:le.a.signUpFailure,variant:"danger"})}))},children:[Object(b.jsxs)(je.a.Group,{controlId:"first_name",children:[Object(b.jsx)(je.a.Label,{children:"First Name"}),Object(b.jsx)(je.a.Control,{required:!0,type:"text",name:"first_name",value:a,placeholder:"Enter first name",onChange:function(e){return s(e.target.value)}})]}),Object(b.jsxs)(je.a.Group,{controlId:"last_name",children:[Object(b.jsx)(je.a.Label,{children:"Last Name"}),Object(b.jsx)(je.a.Control,{type:"text",name:"last_name",value:j,placeholder:"Enter last name",onChange:function(e){return d(e.target.value)}})]}),Object(b.jsxs)(je.a.Group,{controlId:"email",children:[Object(b.jsx)(je.a.Label,{children:"Email address"}),Object(b.jsx)(je.a.Control,{required:!0,type:"email",name:"email",value:O,placeholder:"Enter email",onChange:function(e){return x(e.target.value)}})]}),Object(b.jsxs)(je.a.Group,{controlId:"password",children:[Object(b.jsx)(je.a.Label,{children:"Password"}),Object(b.jsx)(je.a.Control,{required:!0,name:"password",value:f,type:"password",placeholder:"Password",onChange:function(e){return v(e.target.value)}})]}),Object(b.jsxs)(je.a.Group,{controlId:"passwordConfirmation",children:[Object(b.jsx)(je.a.Label,{children:"Password Confirmation"}),Object(b.jsx)(je.a.Control,{required:!0,name:"passwordConfirmation",value:y,type:"password",placeholder:"Confirm Password",onChange:function(e){return N(e.target.value)}})]}),Object(b.jsx)(ne.a,{variant:"warning",type:"submit",children:"Submit"})]})]})})},be={height:"68vh"},he=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),l=Object(i.a)(r,2),j=l[0],d=l[1],u=Object(o.g)();return Object(b.jsx)("div",{className:"row",style:be,children:Object(b.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(b.jsx)("h3",{children:"Sign In"}),Object(b.jsxs)(je.a,{onSubmit:function(t){t.preventDefault();var n=e.msgAlert,c=e.setUser;re({email:a,password:j}).then((function(e){return c(e.data.user)})).then((function(){return n({heading:"Sign In Success",message:le.a.signInSuccess,variant:"success"})})).then((function(){return u("/")})).catch((function(e){s(""),d(""),n({heading:"Sign In Failed with error: "+e.message,message:le.a.signInFailure,variant:"danger"})}))},children:[Object(b.jsxs)(je.a.Group,{controlId:"email",children:[Object(b.jsx)(je.a.Label,{children:"Email address"}),Object(b.jsx)(je.a.Control,{required:!0,type:"email",name:"email",value:a,placeholder:"Enter email",onChange:function(e){return s(e.target.value)}})]}),Object(b.jsxs)(je.a.Group,{controlId:"password",children:[Object(b.jsx)(je.a.Label,{children:"Password"}),Object(b.jsx)(je.a.Control,{required:!0,name:"password",value:j,type:"password",placeholder:"Password",onChange:function(e){return d(e.target.value)}})]}),Object(b.jsx)(ne.a,{variant:"warning",type:"submit",children:"Submit"})]})]})})},Oe=n(277),xe={height:"75vh"},pe=function(e){var t=e.msgAlert,n=e.clearUser,c=e.user,a=Object(o.g)();return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"row",style:xe,children:Object(b.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(b.jsx)("h2",{children:"Are you sure you want to sign out?"}),Object(b.jsx)("small",{children:"We hate to see you go..."}),Object(b.jsx)("br",{}),Object(b.jsxs)(Oe.a,{children:[Object(b.jsx)(ne.a,{variant:"danger",onClick:function(){(function(e){return $()({url:V+"/sign-out",method:"DELETE",headers:{Authorization:"Token token=".concat(e.token)}})})(c).finally((function(){return t({heading:"Signed Out Successfully",message:le.a.signOutSuccess,variant:"success"})})).finally((function(){return a("/")})).finally((function(){return n()}))},children:"Sign Out"}),Object(b.jsx)(ne.a,{variant:"warning",onClick:function(){a("/")},children:"Cancel"})]})]})})})},me=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),l=Object(i.a)(r,2),j=l[0],d=l[1],u=Object(o.g)();return Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(b.jsx)("h3",{children:"Change Password"}),Object(b.jsxs)(je.a,{onSubmit:function(t){t.preventDefault();var n=e.msgAlert,c=e.user;(function(e,t){return $()({url:V+"/change-password",method:"PATCH",headers:{Authorization:"Token token=".concat(t.token)},data:{passwords:{old:e.oldPassword,new:e.newPassword}}})})({oldPassword:a,newPassword:j},c).then((function(){return n({heading:"Change Password Success",message:le.a.changePasswordSuccess,variant:"success"})})).then((function(){return u("/")})).catch((function(e){s(""),d(""),n({heading:"Change Password Failed with error: "+e.message,message:le.a.changePasswordFailure,variant:"danger"})}))},children:[Object(b.jsxs)(je.a.Group,{controlId:"oldPassword",children:[Object(b.jsx)(je.a.Label,{children:"Old password"}),Object(b.jsx)(je.a.Control,{required:!0,name:"oldPassword",value:a,type:"password",placeholder:"Old Password",onChange:function(e){return s(e.target.value)}})]}),Object(b.jsxs)(je.a.Group,{controlId:"newPassword",children:[Object(b.jsx)(je.a.Label,{children:"New Password"}),Object(b.jsx)(je.a.Control,{required:!0,name:"newPassword",value:j,type:"password",placeholder:"New Password",onChange:function(e){return d(e.target.value)}})]}),Object(b.jsx)(ne.a,{variant:"primary",type:"submit",children:"Submit"})]})]})})};function fe(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(),l=Object(i.a)(r,2),j=l[0],d=l[1],u=Object(o.h)().id;Object(c.useEffect)((function(){$()({url:"".concat(V,"/pets/").concat(u),method:"GET",headers:{Authorization:"Token ".concat(e.user.token)}}).then((function(e){var t,n,c,a;s(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.pet)||void 0===n?void 0:n.name),d(null===e||void 0===e||null===(c=e.data)||void 0===c||null===(a=c.pet)||void 0===a?void 0:a.id)})).catch((function(e){console.log(e)}))}),[u,e.user.token]);return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Edit Pet details"}),Object(b.jsxs)("label",{children:["Name",Object(b.jsx)("input",{value:a,onChange:function(e){return s(e.target.value)}})]}),Object(b.jsxs)("button",{onClick:function(){return function(t){var n={pet:{name:a}};fetch("".concat(V,"/pets/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e.user.token)},body:JSON.stringify(n)}).then((function(t){e.setTrigger((function(e){return!e}))})).catch((function(e){console.log(e)}))}(j)},children:["Update ",j]})]})}var ve=function(e){var t=e.review;return Object(b.jsxs)("div",{className:"reviewlist",children:[Object(b.jsx)("h4",{children:t.pet_owner.first_name}),Object(b.jsx)(F,{value:t.rating,color:"#f8e825"}),Object(b.jsx)("p",{children:t.review})]})},ge=(n(230),n(231),n(150));n(246);function we(e){var t=e.user,n=Object(o.g)(),a=Object(c.useState)(new Date),s=Object(i.a)(a,2),r=s[0],j=s[1],d=Object(c.useState)(new Date),u=Object(i.a)(d,2),h=u[0],O=u[1],x=Object(o.h)().id,p={startDate:r,endDate:h,key:"selection"},m=Object(c.useState)(!1),f=Object(i.a)(m,2),v=f[0],g=f[1];return Object(b.jsx)(l.a,{children:Object(b.jsxs)("div",{className:"createbooking",children:[Object(b.jsx)(J.a,{children:Object(b.jsxs)(M.a,{sm:12,children:[Object(b.jsx)(ge.DateRange,{className:"datepicker",ranges:[p],onChange:function(e){j(e.selection.startDate),O(e.selection.endDate)},name:"date",id:"date"}),Object(b.jsx)(ne.a,{className:"createbooking_button",variant:"warning",onClick:function(e){if(null==t)n("/sign-in");else{e.preventDefault();var c={pet_owner:t.id,start_date:r,end_date:h,sitter:x};console.log(c),fetch("".concat(V,"/bookings"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(t.token)},body:JSON.stringify(c)}).then((function(e){})).catch((function(e){console.log(e)})),g(!0)}},children:"Book"})]})}),Object(b.jsx)(ce.a,{size:"sm",show:v,onHide:function(){return g(!1)},"aria-labelledby":"example-modal-sizes-title-sm",children:Object(b.jsx)(ce.a.Header,{closeButton:!0,children:Object(b.jsx)(ce.a.Title,{id:"example-modal-sizes-title-sm",children:"Booking Success"})})})]})})}n(247),n(248);var ye=function(e){var t=e.user,n=e.setTrigger,a=Object(c.useState)(""),s=Object(i.a)(a,2),r=s[0],l=s[1],j=Object(c.useState)(0),d=Object(i.a)(j,2),u=d[0],h=d[1],O=Object(c.useState)(!1),x=Object(i.a)(O,2),p=x[0],m=x[1],f=Object(o.g)(),v=Object(o.h)().id,g=function(){return m(!1)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{variant:"warning",className:"btn-floating btn-large waves-effect waves-light yellow",onClick:function(){if(null!=t)return m(!0);f("/sign-in")},children:Object(b.jsx)("i",{className:"material-icons",children:"comment"})}),Object(b.jsxs)(ce.a,{show:p,onHide:g,backdrop:"static",keyboard:!1,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(b.jsx)(ce.a.Header,{closeButton:!0,children:Object(b.jsx)(ce.a.Title,{children:"Write a review"})}),Object(b.jsxs)("label",{children:["Review",Object(b.jsx)("textarea",{required:!0,onChange:function(e){return l(e.target.value)},className:"area",value:r,rows:"8",cols:"10"})]}),Object(b.jsx)("br",{}),Object(b.jsxs)("label",{children:["Rating(1-5)",Object(b.jsx)("input",{required:!0,type:"number",value:u,onChange:function(e){return e.target.value>5?"too much":h(e.target.value)}})]}),Object(b.jsx)("br",{}),Object(b.jsx)(ne.a,{onClick:function(){return function(){var e={pet_owner:t.id,sitter:v,review:r,rating:u};fetch("".concat(V,"/reviews"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(t.token)},body:JSON.stringify(e)}).then((function(e){n((function(e){return!e})),g()})).catch((function(e){console.log(e)}))}()},children:"Submit"})]})]})};function Ne(e){var t=e.user,n=Object(c.useState)(!1),a=Object(i.a)(n,2),s=a[0],r=a[1],l=Object(o.h)().id,j=Object(c.useContext)(x),d=j.sitter,u=j.dispatch,h=j.loading,O=j.sitterReviews;return Object(c.useEffect)((function(){u({type:"SET_LOADING"});var e=function(){var e=Object(z.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(l);case 2:t=e.sent,u({type:"GET_SITTER",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[u,l,s]),h?Object(b.jsx)(Y,{}):Object(b.jsx)("div",{className:"listingdetail",children:Object(b.jsxs)(J.a,{children:[Object(b.jsxs)("h1",{children:[d.first_name," ",d.last_name," "]}),Object(b.jsxs)(J.a,{children:[Object(b.jsx)(M.a,{md:2,children:Object(b.jsx)(F,{value:d.rating,text:"".concat(d.numReviews," reviews"),color:"#f8e825"})}),Object(b.jsx)(M.a,{md:6,children:Object(b.jsxs)("h5",{children:[d.city,", ",d.zipcode]})})]}),Object(b.jsx)(J.a,{children:Object(b.jsx)(te.a,{className:"sitterimage",src:d.image})}),Object(b.jsx)("hr",{}),Object(b.jsxs)(J.a,{children:[Object(b.jsxs)(M.a,{xs:12,sm:12,md:8,lg:8,className:"mt-5",children:[Object(b.jsx)("h2",{children:"About"}),Object(b.jsxs)("p",{children:[" ",d.description]})]}),Object(b.jsx)(M.a,{md:4,lg:4,children:Object(b.jsxs)("div",{className:"booking",children:[Object(b.jsxs)(J.a,{children:[Object(b.jsx)(M.a,{md:5,children:Object(b.jsxs)("h5",{children:["$",d.price," / night"]})}),Object(b.jsx)(M.a,{children:Object(b.jsx)(F,{value:d.rating,text:"".concat(d.numReviews," reviews"),color:"#f8e825"})})]}),Object(b.jsx)(we,{user:t}),t?Object(b.jsx)(_.b,{to:"/contact/".concat(d.id),children:Object(b.jsx)(ne.a,{className:"contact_button",variant:"warning",children:"Contact host"})}):Object(b.jsx)(_.b,{to:"/sign-in/",children:Object(b.jsx)(ne.a,{className:"contact_button",variant:"warning",children:"Contact host"})})]})})]}),Object(b.jsx)("hr",{}),Object(b.jsx)("h2",{children:"Reviews"}),Object(b.jsxs)(J.a,{children:[Object(b.jsx)(M.a,{md:6,children:Object(b.jsx)("div",{className:"sitterreviews",children:O.map((function(e){return Object(b.jsx)("li",{className:"list",children:Object(b.jsx)(ve,{review:e})},e.id)}))})}),Object(b.jsx)(M.a,{md:6,children:Object(b.jsx)(q.a,{children:Object(b.jsxs)("div",{className:"reviewbox",children:[Object(b.jsx)("h3",{children:"Review this sitter"}),Object(b.jsx)("h5",{children:"share your thought with other pet owners"}),Object(b.jsx)(ye,{setTrigger:r,user:t})]})})})]})]})})}n(249);var Se=function(e){return e.myPets.map((function(e){return Object(b.jsx)(_.b,{to:"/pets/".concat(e.id),children:e.name},e.id)})),Object(b.jsxs)("div",{className:"profilepets",children:[Object(b.jsx)("h1",{children:"My Pets"}),Object(b.jsx)("div",{className:"profilepets_pet",children:e.myPets&&e.myPets.filter((function(e){return null!==e.name&&""!==e.name})).map((function(t){return Object(b.jsxs)("div",{className:"pet",children:[Object(b.jsxs)(_.b,{style:{textDecoration:"none",color:"black"},to:"/pets/".concat(t.id),children:[Object(b.jsx)(te.a,{src:t.image,className:"rounded-circle image"}),Object(b.jsx)("h4",{className:"pet_name",children:t.name})]},t.id),Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"btn-floating btn-small waves-effect waves-light red accent-2",style:{margin:"10px"},onClick:function(){return n=t.id,void $()({url:"".concat(V,"/pets/").concat(n),method:"DELETE",headers:{Authorization:"Token ".concat(e.user.token)}}).then((function(t){e.setTrigger((function(e){return!e}))})).catch((function(e){console.log(e)}));var n},children:Object(b.jsx)("i",{className:"material-icons",children:"delete"})})]})}))})]})};n(250);function ke(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(),o=Object(i.a)(r,2),l=o[0],j=o[1],d=Object(c.useState)(!1),u=Object(i.a)(d,2),h=u[0],O=u[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)(ne.a,{variant:"warning",onClick:function(){return O(!0)},children:"Add Pet+"}),Object(b.jsxs)(ce.a,{show:h,onHide:function(){return O(!1)},backdrop:"static",keyboard:!1,children:[Object(b.jsx)(ce.a.Header,{closeButton:!0,children:Object(b.jsx)(ce.a.Title,{children:"Add your Pet"})}),Object(b.jsxs)("label",{children:["Pet Name",Object(b.jsx)("input",{type:"text",value:a,onChange:function(e){return s(e.target.value)}})]}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{children:Object(b.jsx)("input",{type:"file",onChange:function(e){return j(e.target.files[0])}})}),Object(b.jsx)("br",{}),Object(b.jsx)(ne.a,{onClick:function(){return function(t){var n=new FormData;n.append("image",l),n.append("name",a),n.append("pet_owner",e.user.id),fetch("".concat(V,"/pets"),{method:"POST",headers:{Authorization:"Token ".concat(e.user.token)},body:n}).then((function(t){e.setTrigger((function(e){return!e}))})).catch((function(e){console.log(e)})),O(!1)}()},children:"Add Pet"})]})]})}n(251);var Ce=function(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(!1),o=Object(i.a)(r,2),l=o[0],j=o[1];return Object(c.useEffect)((function(){function t(){return(t=Object(z.a)(G.a.mark((function t(){var n,c;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.a.get("".concat(V,"/profile"),{headers:{Authorization:"Token ".concat(e.user.token)}});case 2:n=t.sent,c=n.data,console.log(c),s(c.user.pets_owned);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[l]),Object(b.jsxs)("div",{className:"pet_screen",children:[Object(b.jsx)(Se,{myPets:a,user:e.user,setTrigger:j}),Object(b.jsx)("div",{className:"createpets",children:Object(b.jsx)(ke,{user:e.user,setTrigger:j})})]})};var Te=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)("footer",{className:"page-footer",children:[Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col l6 s12",children:[Object(b.jsx)("h5",{className:"white-text",children:"About"}),Object(b.jsx)("p",{className:"grey-text text-lighten-4",children:"We are three software developers who wanted to create an easy and reliable source for pet owners to find a caretaker when they're busy or traveling. "})]}),Object(b.jsxs)("div",{className:"col l4 offset-l2 s12",children:[Object(b.jsx)("h5",{className:"white-text",children:"Contributors"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"grey-text text-lighten-3",style:{textDecoration:"none"},href:"https://github.com/galyverasi",children:"Galyver Asi"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"grey-text text-lighten-3",style:{textDecoration:"none"},href:"https://github.com/kellylarrea",children:"Kelly Larrea"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"grey-text text-lighten-3",style:{textDecoration:"none"},href:"https://github.com/lawrencesalinas",children:"Lawrence Salinas"})})]})]})]})}),Object(b.jsx)("div",{className:"footer-copyright",children:Object(b.jsxs)("div",{className:"container",children:["\xa9 2022 Pawsibly",Object(b.jsx)("a",{className:"grey-text text-lighten-4 right",style:{textDecoration:"none"},href:"https://github.com/kellylarrea/pawsibly-react",children:"Learn more on GitHub"})]})})]})})};var _e=function(e){var t=e.userBooking,n={January:"01",Febuary:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"},c=function(e){var t=[],c=e.slice(5,7);for(var a in n)n[a]===c&&t.push(a);return t.push(e.slice(0,4)),t.push(e.slice(8,10)),"".concat(t[0]," ").concat(t[2]," ").concat(t[1])};return Object(b.jsx)("div",{children:t.map((function(e){return Object(b.jsx)("div",{className:"container small",children:Object(b.jsx)("div",{className:"row center-cols justify-center",children:Object(b.jsx)(B.Row,{className:"small center-align",children:Object(b.jsx)("div",{className:"col s6 offset-s3",children:Object(b.jsxs)(B.Card,{className:"card",actions:[Object(b.jsx)("a",{href:"/#",children:"Back To Top"},"1")],closeIcon:Object(b.jsx)(B.Icon,{children:"close"}),header:Object(b.jsx)(B.CardTitle,{image:e.sitter.image}),title:e.sitter.first_name,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h6",{children:"Drop-off date:"})," ",c(e.start_date)]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h6",{children:"Pick-up date:"})," ",c(e.end_date)]}),Object(b.jsxs)("div",{children:["Confirmation# ",e.id]}),Object(b.jsx)("br",{}),Object(b.jsx)(_.b,{to:"/sitterListing/".concat(e.sitter.id),children:Object(b.jsxs)("h6",{children:["Go to ",e.sitter.first_name," Page"]})})]})})})})})}))})};n(252);var Ee=function(e){var t=e.user,n=Object(c.useState)([]),a=Object(i.a)(n,2),s=a[0],r=a[1];return Object(c.useEffect)((function(){try{ae("bookings",r,"bookings",t)}catch(e){console.log(e)}}),[]),Object(b.jsxs)("div",{className:"mybookingscreen",children:[Object(b.jsx)("h2",{className:"center-align",children:"All Bookings:"}),Object(b.jsx)(_e,{userBooking:s})]})};var Pe=function(e){var t=e.user,n=Object(c.useState)([]),a=Object(i.a)(n,2),s=a[0],r=a[1];return Object(c.useEffect)((function(){ae("reviews",r,"reviews",t)}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{className:"center",children:"These are the reviews I posted:"}),Object(b.jsx)("div",{children:s.map((function(e){return Object(b.jsx)("div",{className:"container small",children:Object(b.jsx)("div",{className:"row center-cols justify-center",children:Object(b.jsx)(B.Row,{className:"small center-align",children:Object(b.jsx)("div",{className:"col s6 offset-s3",children:Object(b.jsxs)(B.Card,{className:"card",actions:[Object(b.jsx)("a",{href:"/#",children:"Back To Top"},"1")],closeIcon:Object(b.jsx)(B.Icon,{children:"close"}),header:Object(b.jsx)(B.CardTitle,{}),revealIcon:Object(b.jsx)(B.Icon,{children:"more_vert"}),title:e.sitter,children:[Object(b.jsx)("p",{children:e.rating}),Object(b.jsx)(F,{color:"#f8e825",value:e.rating}),Object(b.jsx)("p",{children:e.review}),Object(b.jsxs)(_.b,{to:"/sitterListing/".concat(e.id),children:["Go to ",e.sitter,"'s Page"]})]})})})})})}))}),")"]})};function Ae(e){var t=e.user,n=e.setTrigger,a=Object(c.useState)(""),s=Object(i.a)(a,2),r=s[0],l=s[1],j=Object(c.useState)(t.first_name),d=Object(i.a)(j,2),u=d[0],h=d[1],O=Object(c.useState)(""),x=Object(i.a)(O,2),p=x[0],m=x[1],f=Object(c.useState)(0),v=Object(i.a)(f,2),g=v[0],w=v[1],y=Object(c.useState)(""),N=Object(i.a)(y,2),S=N[0],k=N[1],C=Object(c.useState)(""),T=Object(i.a)(C,2),_=T[0],E=T[1],P=Object(c.useState)(),A=Object(i.a)(P,2),D=A[0],I=A[1],L=t.id,R=Object(o.g)();return Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{children:"Title"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:r,title:"title",id:"title",onChange:function(e){return l(e.target.value)}}),Object(b.jsx)("label",{children:"Name"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:u,first_name:"first_name",id:"name",onChange:function(e){return h(e.target.value)}}),Object(b.jsx)("label",{children:"Zipcode"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:p,name:"zipcode",id:"zipcode",onChange:function(e){return m(e.target.value)}}),Object(b.jsx)("label",{children:"Price"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:g,name:"price",id:"price",onChange:function(e){return w(e.target.value)}}),Object(b.jsx)("label",{children:"City"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:_,name:"city",id:"city",onChange:function(e){return E(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{children:"Description"}),Object(b.jsx)("textarea",{className:"input",type:"text",required:!0,value:S,name:"description",id:"description",onChange:function(e){return k(e.target.value)}}),Object(b.jsx)("input",{type:"file",onChange:function(e){return I(e.target.files[0])}}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(ne.a,{onClick:function(e){var c=new FormData;c.append("image",D),c.append("title",r),c.append("first_name",u),c.append("zipcode",p),c.append("price",g),c.append("city",_),c.append("description",S),c.append("post_owner",L),fetch("".concat(V,"/sitters"),{method:"POST",headers:{Authorization:"Token ".concat(t.token)},body:c}).then((function(e){n((function(e){return!e})),R("/")})).catch((function(e){console.log(e)}))},variant:"success",children:"Post"})]})}var De=function(e){var t=e.children;return Object(b.jsx)(l.a,{children:Object(b.jsx)(J.a,{className:"justify-content-md-center",children:Object(b.jsx)(M.a,{xs:12,md:6,children:t})})})};n(143);var Ie=function(e){var t=e.user,n=Object(c.useContext)(v),a=n.userData,s=n.dispatch,r=n.loading,o=Object(c.useState)(!1),l=Object(i.a)(o,2),j=l[0],d=l[1];Object(c.useEffect)((function(){s({type:"SET_LOADING"});var e=function(){var e=Object(z.a)(G.a.mark((function e(){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:n=e.sent,s({type:"GET_USER",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s,t,j]);var u=function(){var e=a.post_owned.map((function(e){return e.id.toString()}));$()({url:"".concat(V,"/sitters/").concat(e),method:"DELETE",headers:{Authorization:"Token ".concat(t.token)}}).then((function(e){d((function(e){return!e}))})).catch((function(e){console.log(e)}))};return r?Object(b.jsx)(Y,{}):Object(b.jsx)("div",{className:"hostapetscreen",children:a.post_owned.length>0?Object(b.jsx)(De,{children:a.post_owned.map((function(e){return Object(b.jsxs)("div",{className:"postbuttons",children:[Object(b.jsx)(U,{sitter:e}),Object(b.jsx)(_.b,{to:"/editlisting/",children:Object(b.jsxs)("button",{id:"edit_button",children:[" ",Object(b.jsx)("i",{className:"fa fa-pencil-alt","aria-hidden":"true"})," Edit"]})}),Object(b.jsxs)("button",{onClick:u,id:"delete_button",children:[" ",Object(b.jsxs)("i",{className:"fa fa-trash","aria-hidden":"true",children:[" ","Delete"]})]})]})}))}):Object(b.jsxs)(De,{children:[Object(b.jsx)("h1",{children:"Become a Pet Host"}),Object(b.jsx)(Ae,{setTrigger:d,user:t})]})})};n(253);var Le=function(){var e=Object(o.h)().id,t=Object(c.useContext)(x),n=t.sitter,a=t.dispatch,s=t.loading;Object(c.useEffect)((function(){a({type:"SET_LOADING"});var t=function(){var t=Object(z.a)(G.a.mark((function t(){var n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X(e);case 2:n=t.sent,a({type:"GET_SITTER",payload:n});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[a,e]);var r=n.post_owner.email;return s?Object(b.jsx)(Y,{}):Object(b.jsxs)("div",{className:"contactscreen",children:[Object(b.jsx)("h3",{children:"Contact"}),Object(b.jsx)("br",{}),Object(b.jsxs)("h3",{children:["Have questions? Email ",n.first_name]}),Object(b.jsx)("br",{}),Object(b.jsx)("h6",{children:"Email: "}),Object(b.jsxs)("h5",{children:[" ",r]})]})},Re=(n(254),n(279));n(255);var Ge=function(e){var t=e.id,n=e.img,c=e.location,a=e.title,s=e.description,r=e.review,i=e.price,o=e.total,l=e.numReviews,j=e.zipcode;return Object(b.jsx)(_.b,{className:"links",to:"/sitterlisting/".concat(t),children:Object(b.jsxs)("div",{className:"searchResult",children:[Object(b.jsx)("img",{src:n,alt:""}),Object(b.jsxs)("div",{className:"searchResult_info",children:[Object(b.jsxs)("div",{className:"searchResult_infoTop",children:[Object(b.jsx)("h2",{children:a}),Object(b.jsxs)("h3",{children:[c," ",j]}),Object(b.jsx)("p",{children:"_____"}),Object(b.jsx)("p",{children:s})]}),Object(b.jsxs)("div",{className:"searchResult_infoBottom",children:[Object(b.jsxs)("div",{className:"searchResult_reviews",children:[Object(b.jsx)(F,{value:r,color:"#f8e825"}),r," from (",l," reviews)"]}),Object(b.jsxs)("div",{className:"searchResults_price",children:[Object(b.jsxs)("h2",{children:["$",i," / night"]}),Object(b.jsxs)("p",{children:["$",o," total"]})]})]})]})]})})};var ze=function(){var e=Object(c.useContext)(x),t=e.sitters,n=e.loading,a=e.dispatch,s=Object(o.h)().url;Object(c.useEffect)((function(){a({type:"SET_LOADING"});var e=function(){var e=Object(z.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:t=e.sent,a({type:"GET_SITTERS",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a,s]);var r=t.filter((function(e){return e.city.toLowerCase().includes(s.toLowerCase())||e.zipcode.toString().includes(s.toString())})),i=r.length;return n?Object(b.jsx)(Y,{}):Object(b.jsxs)("div",{className:"SearchPage",children:[Object(b.jsxs)("div",{className:"searchPage_info",children:[Object(b.jsx)("h1",{children:"Sitters nearby"}),Object(b.jsxs)("p",{children:[i," results"]}),Object(b.jsx)(Re.a,{variant:"outlined",children:"Host A Pet"})]}),r.map((function(e){return Object(b.jsx)(Ge,{id:e.id,img:e.image,location:e.city,title:e.title,description:e.description,review:e.rating,price:e.price,total:e.price,numReviews:e.numReviews,zipcode:e.zipcode})}))]})};var qe=function(e){var t=e.user,n=Object(c.useContext)(v),a=n.userData,s=n.dispatch,r=n.loading,l=Object(c.useState)(!1),j=Object(i.a)(l,2),d=j[0],u=j[1];Object(c.useEffect)((function(){s({type:"SET_LOADING"});var e=function(){var e=Object(z.a)(G.a.mark((function e(){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:n=e.sent,s({type:"GET_USER",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s,t,d]);var h=a.post_owned.map((function(e){return e.id.toString()})),O=a.post_owned.map((function(e){return e.first_name})),x=a.post_owned.map((function(e){return e.title})),p=a.post_owned.map((function(e){return e.zipcode})),m=a.post_owned.map((function(e){return e.city})),f=a.post_owned.map((function(e){return e.price})),g=a.post_owned.map((function(e){return e.description})),w=a.post_owned.map((function(e){return e.image})),y=Object(c.useState)(x),N=Object(i.a)(y,2),S=N[0],k=N[1],C=Object(c.useState)(O),T=Object(i.a)(C,2),_=T[0],E=T[1],P=Object(c.useState)(p),A=Object(i.a)(P,2),D=A[0],I=A[1],L=Object(c.useState)(f),R=Object(i.a)(L,2),q=R[0],F=R[1],H=Object(c.useState)(g),U=Object(i.a)(H,2),B=U[0],J=U[1],M=Object(c.useState)(m),W=Object(i.a)(M,2),$=W[0],Z=W[1],K=Object(c.useState)(w),Q=Object(i.a)(K,2),X=Q[0],ee=Q[1],te=t.id,ce=Object(o.g)();return r?Object(b.jsx)(Y,{}):Object(b.jsx)("div",{children:Object(b.jsxs)(De,{className:"editcontainer",children:[Object(b.jsx)("h1",{children:"Edit sitter listing"}),Object(b.jsx)("label",{children:"Title"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:S,title:"title",id:"title",onChange:function(e){return k(e.target.value)}}),Object(b.jsx)("label",{children:"Name"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:_,first_name:"first_name",id:"name",onChange:function(e){return E(e.target.value)}}),Object(b.jsx)("label",{children:"Zipcode"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:D,name:"zipcode",id:"zipcode",onChange:function(e){return I(e.target.value)}}),Object(b.jsx)("label",{children:"Price"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:q,name:"price",id:"price",onChange:function(e){return F(e.target.value)}}),Object(b.jsx)("label",{children:"City"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:$,name:"city",id:"city",onChange:function(e){return Z(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{children:"Description"}),Object(b.jsx)("textArea",{className:"input",type:"text",required:!0,value:B,name:"description",id:"description",onChange:function(e){return J(e.target.value)}}),Object(b.jsx)("input",{type:"file",onChange:function(e){return ee(e.target.files[0])}}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(ne.a,{onClick:function(e){var n=new FormData;n.append("image",X),n.append("title",S),n.append("first_name",_),n.append("zipcode",D),n.append("price",q),n.append("city",$),n.append("description",B),n.append("post_owner",te),fetch("".concat(V,"/sitters/").concat(h),{method:"PATCH",headers:{Authorization:"Token ".concat(t.token)},body:n}).then((function(e){u((function(e){return!e})),ce("/")})).catch((function(e){console.log(e)}))},variant:"success",children:"Save changes"})]})})},Fe=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),r=Object(i.a)(s,2),d=r[0],u=r[1],h=function(e){u((function(t){return t.filter((function(t){return t.id!==e}))}))},x=function(e){var t=e.heading,n=e.message,c=e.variant,a=Object(j.a)();u((function(){return[{heading:t,message:n,variant:c,id:a}]}))};return Object(b.jsx)(f,{children:Object(b.jsxs)(O,{children:[Object(b.jsx)(I,{user:n}),Object(b.jsx)("main",{className:"py-1",children:Object(b.jsx)(l.a,{children:Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.b,{path:"/",element:Object(b.jsx)(ee,{msgAlert:x,user:n})}),Object(b.jsx)(o.b,{path:"/sign-up",element:Object(b.jsx)(ue,{msgAlert:x,setUser:a})}),Object(b.jsx)(o.b,{path:"/sign-in",element:Object(b.jsx)(he,{msgAlert:x,setUser:a})}),Object(b.jsx)(o.b,{path:"/searchpage/:url",element:Object(b.jsx)(ze,{user:n})}),Object(b.jsx)(o.b,{path:"/sitterlisting/:id",element:Object(b.jsx)(Ne,{user:n})}),Object(b.jsx)(o.b,{path:"/contact/:id",element:Object(b.jsx)(Le,{user:n})}),Object(b.jsx)(o.b,{path:"/profile",element:Object(b.jsx)(L,{user:n,children:Object(b.jsx)(ie,{user:n})})}),Object(b.jsx)(o.b,{path:"/pets",element:Object(b.jsx)(L,{user:n,children:Object(b.jsx)(Ce,{user:n})})}),Object(b.jsx)(o.b,{path:"/pets/:id",element:Object(b.jsx)(L,{user:n,children:Object(b.jsx)(fe,{user:n})})}),Object(b.jsx)(o.b,{path:"/sign-out",element:Object(b.jsx)(L,{user:n,children:Object(b.jsx)(pe,{msgAlert:x,clearUser:function(){a(null)},user:n})})}),Object(b.jsx)(o.b,{path:"/change-password",element:Object(b.jsx)(L,{user:n,children:Object(b.jsx)(me,{msgAlert:x,user:n})})}),Object(b.jsx)(o.b,{path:"/mybookings",element:Object(b.jsx)(L,{user:n,children:Object(b.jsx)(Ee,{user:n})})}),Object(b.jsx)(o.b,{path:"/myreviews",element:Object(b.jsx)(L,{user:n,children:Object(b.jsx)(Pe,{user:n})})}),Object(b.jsx)(o.b,{path:"/hostapet",element:Object(b.jsx)(L,{user:n,children:Object(b.jsx)(Ie,{user:n})})}),Object(b.jsx)(o.b,{path:"/editlisting/",element:Object(b.jsx)(L,{user:n,children:Object(b.jsx)(qe,{user:n})})})]})})}),d.map((function(e){return Object(b.jsx)(k,{heading:e.heading,variant:e.variant,message:e.message,id:e.id,deleteAlert:h},e.id)})),Object(b.jsx)(Te,{})]})})};n(260);r.a.render(Object(b.jsx)(_.a,{children:Object(b.jsx)(Fe,{})}),document.getElementById("root"))},35:function(e,t){}},[[261,1,2]]]);
//# sourceMappingURL=main.805c981a.chunk.js.map