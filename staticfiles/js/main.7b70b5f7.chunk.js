(this.webpackJsonppawsibly=this.webpackJsonppawsibly||[]).push([[0],{125:function(e,t,n){},139:function(e,t,n){},141:function(e,t,n){},145:function(e,t,n){},147:function(e,t,n){},189:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){},241:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(28),r=n.n(s),i=(n(139),n(4)),l=n(14),o=n(258),j=n(261),d=n(2),u=function(e,t){switch(t.type){case"GET_SITTERS":return Object(d.a)(Object(d.a)({},e),{},{sitters:t.payload,loading:!1});case"GET_SITTER":return Object(d.a)(Object(d.a)({},e),{},{sitter:t.payload.sitter,sitterReviews:t.payload.sitterReviews,loading:!1});case"SET_LOADING":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});default:return e}},b=n(0),h=Object(c.createContext)(),O=function(e){var t=e.children,n=Object(c.useReducer)(u,{sitters:[],sitter:{},sitterReviews:[],loading:!1}),a=Object(i.a)(n,2),s=a[0],r=a[1];return Object(b.jsx)(h.Provider,{value:Object(d.a)({dispatch:r},s),children:t})},x=h,p=function(e,t){switch(t.type){case"GET_USER":return Object(d.a)(Object(d.a)({},e),{},{userData:t.payload,loading:!1});case"GET_REVIEW":return Object(d.a)(Object(d.a)({},e),{},{reviewList:t.payload,loading:!1});case"SET_LOADING":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});default:return e}},m=Object(c.createContext)(),f=function(e){var t=e.children,n=Object(c.useReducer)(p,{userData:{},reviewList:[],loading:!1}),a=Object(i.a)(n,2),s=a[0],r=a[1];return Object(b.jsx)(m.Provider,{value:Object(d.a)({dispatch:r},s),children:t})},v=m,g=n(47),w=n(48),y=n(83),N=n(82),S=n(99),k=(n(141),function(e){Object(y.a)(n,e);var t=Object(N.a)(n);function n(e){var c;return Object(g.a)(this,n),(c=t.call(this,e)).handleClose=function(){return c.setState({show:!1})},c.state={show:!0},c.timeoutId=null,c}return Object(w.a)(n,[{key:"componentDidMount",value:function(){this.timeoutId=setTimeout(this.handleClose,5e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e=this.props,t=e.variant,n=e.heading,c=e.message,a=e.deleteAlert,s=e.id;return this.state.show||setTimeout((function(){a(s)}),300),Object(b.jsx)(S.a,{dismissible:!0,show:this.state.show,variant:t,onClose:this.handleClose,children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(S.a.Heading,{children:n}),Object(b.jsx)("p",{className:"alert-body",children:c})]})})}}]),n}(a.a.Component)),C=n(9);n(145);var T=function(e){var t=e.user;return Object(b.jsxs)("div",{children:[Object(b.jsx)("nav",{children:Object(b.jsxs)("div",{className:"nav-wrapper",children:[Object(b.jsx)(C.b,{to:"/",className:"brand-logo",children:Object(b.jsxs)("div",{className:"title",children:[Object(b.jsx)("i",{id:"paws",className:"fas fa-paw fa-sm"}),Object(b.jsx)("h1",{className:"pawsibly",children:"Pawsibly"})]})}),Object(b.jsx)("a",{href:"/","data-target":"mobile-demo",className:"sidenav-trigger",children:Object(b.jsx)("i",{className:"material-icons",children:"menu"})}),t?Object(b.jsxs)("ul",{className:"right hide-on-med-and-down",children:[Object(b.jsx)("li",{children:Object(b.jsx)(C.b,{to:"/",children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(C.b,{to:"/profile",children:"Profile"})}),Object(b.jsx)("li",{children:Object(b.jsx)(C.b,{to:"/sign-out",children:"Sign Out"})})]}):Object(b.jsxs)("ul",{className:"right hide-on-med-and-down",children:[Object(b.jsx)("li",{children:Object(b.jsx)(C.b,{to:"/",children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(C.b,{to:"/sign-in",children:"Sign In"})}),Object(b.jsx)("li",{children:Object(b.jsx)(C.b,{to:"/sign-up",children:"Sign Up"})})]})]})}),t?Object(b.jsxs)("ul",{className:"sidenav",id:"mobile-demo",children:[Object(b.jsx)("li",{children:Object(b.jsx)(C.b,{to:"/",children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(C.b,{to:"/profile",children:"Profile"})}),Object(b.jsx)("li",{children:Object(b.jsx)(C.b,{to:"/sign-out",children:"Sign Out"})})]}):Object(b.jsxs)("ul",{className:"sidenav",id:"mobile-demo",children:[Object(b.jsx)("li",{children:Object(b.jsx)(C.b,{to:"/",children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(C.b,{to:"/profile",children:"Sign In"})}),Object(b.jsx)("li",{children:Object(b.jsx)(C.b,{to:"/sign-out",children:"Sign Up"})})]})]})};function _(e){var t=e.user,n=e.children;return null!==t?n:Object(b.jsx)(l.a,{to:"/sign-in",replace:!0})}var E=n(13),P=n.n(E),A=n(15),I=n(262);var D=function(e,t){return Object(b.jsxs)("div",{className:"rating",children:[Object(b.jsx)("span",{children:Object(b.jsx)("i",{style:{color:e.color},className:e.value>=1?"fas fa-star":e.value>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(b.jsx)("span",{children:Object(b.jsx)("i",{style:{color:e.color},className:e.value>=2?"fas fa-star":e.value>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(b.jsx)("span",{children:Object(b.jsx)("i",{style:{color:e.color},className:e.value>=3?"fas fa-star":e.value>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(b.jsx)("span",{children:Object(b.jsx)("i",{style:{color:e.color},className:e.value>=4?"fas fa-star":e.value>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(b.jsx)("span",{children:Object(b.jsx)("i",{style:{color:e.color},className:e.value>=5?"fas fa-star":e.value>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(b.jsx)("span",{children:e.text&&e.text})]})},R=(n(147),{textDecoration:"none",color:"black"});var G=function(e){var t=e.sitter,n=t.id,c=t.image,a=t.city,s=t.rating,r=t.zipcode,i=t.numReviews,l=t.price;return Object(b.jsx)("div",{className:"allsitter",children:Object(b.jsxs)(I.a,{className:"my-3 p-3 rounded",children:[Object(b.jsx)(C.b,{to:"/sitterlisting/".concat(n),children:Object(b.jsx)(I.a.Img,{className:"sitterimages",src:c})}),Object(b.jsxs)(I.a.Body,{children:[Object(b.jsx)(C.b,{to:"/sitterlisting/".concat(n),style:R,children:Object(b.jsx)(I.a.Title,{as:"div",children:Object(b.jsxs)("h5",{children:[a,Object(b.jsx)("br",{})," ",r]})})}),Object(b.jsx)(I.a.Text,{as:"div",children:Object(b.jsxs)("div",{className:"my-3",children:[s," (",i," reviews)",Object(b.jsx)(D,{value:s,color:"#f8e825"})]})}),Object(b.jsxs)(I.a.Text,{as:"h5",children:["$",l]})]})]})})},L=n(22),z=n(255),q=n(130),H=(n(189),n(16)),U=n.n(H),F="https://pawsibly.herokuapp.com",B="http://127.0.0.1:8000",J="localhost"===window.location.hostname?B:F,M=function(){var e=Object(A.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.get("".concat(J,"/sitters"));case 2:return t=e.sent,e.abrupt("return",t.data.sitters);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(A.a)(P.a.mark((function e(t){var n,c,a,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([U.a.get("".concat(J,"/sitters/").concat(t)),U.a.get("".concat(J,"/reviews/").concat(t))]);case 2:return n=e.sent,c=Object(i.a)(n,2),a=c[0],s=c[1],e.abrupt("return",{sitter:a.data.sitter,sitterReviews:s.data.reviews});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n(208);var $=function(){return Object(b.jsxs)("div",{className:"spinner",children:[Object(b.jsx)("img",{className:"dog",src:"/static/images/runningdog.gif",alt:"loading..."}),Object(b.jsx)("img",{className:"circle",src:"/static/images/circles.gif",alt:"loading..."})]})},Z=function(){var e=Object(c.useContext)(x),t=e.sitters,n=e.loading,a=e.dispatch,s=Object(c.useState)(""),r=Object(i.a)(s,2),l=r[0],o=r[1];Object(c.useEffect)((function(){a({type:"SET_LOADING"});var e=function(){var e=Object(A.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,a({type:"GET_SITTERS",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var j=t.slice(-3);return n?Object(b.jsx)($,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"section white",children:Object(b.jsxs)("div",{className:"searchbar",children:[Object(b.jsx)("h4",{className:"header",children:"Find local pet sitters near you"}),Object(b.jsx)("input",{type:"text",id:"ip2",placeholder:"Search by zipcode or city",value:l,onChange:function(e){return o(e.target.value)},required:!0}),Object(b.jsx)(C.b,{to:"/searchpage/".concat(l),children:Object(b.jsx)("button",{className:"btn-floating btn-large waves-effect waves-light red accent-2",children:Object(b.jsx)("i",{className:"material-icons",children:"send"})})}),Object(b.jsx)("h4",{className:"explore",children:"Explore "}),Object(b.jsx)("div",{className:"sitters",children:Object(b.jsx)(z.a,{style:{justifyContent:"center"},children:j.map((function(e){return Object(b.jsx)(q.a,{sm:12,md:6,lg:4,xl:3,children:Object(b.jsx)(G,{sitter:e})},e.id)}))})})]})}),Object(b.jsxs)("div",{className:"cat",children:[Object(b.jsx)(L.Parallax,{image:Object(b.jsx)("img",{alt:"cat",src:"/static/images/cat.png"}),options:{responsiveThreshold:0}}),Object(b.jsx)("div",{className:"section white",children:Object(b.jsxs)("div",{className:"searchbar",children:[Object(b.jsx)("h2",{className:"header",children:"Search for a nearby sitter"}),Object(b.jsx)("p",{className:"grey-text text-darken-3 lighten-3",children:"With Pawsibly, your pet stays in a sitter's home, whether you're traveling for a few days or just out for the day. Here's how it works."}),Object(b.jsxs)("div",{className:"row",style:{marginTop:"50px"},children:[Object(b.jsxs)("div",{className:"col s4",children:[Object(b.jsx)("i",{className:"large material-icons",children:"search"}),Object(b.jsx)("h3",{children:"1. Find a sitter near you"})]}),Object(b.jsxs)("div",{className:"col s4",children:[Object(b.jsx)("i",{className:"large material-icons",children:"schedule"}),Object(b.jsx)("h3",{children:"2. Schedule a booking"})]}),Object(b.jsxs)("div",{className:"col s4",children:[Object(b.jsx)("i",{className:"large material-icons",children:"comment"}),Object(b.jsx)("h3",{children:"3. Leave a review"})]})]})]})}),Object(b.jsx)(L.Parallax,{image:Object(b.jsx)("img",{alt:"",src:"/static/images/dog.png"}),options:{responsiveThreshold:0}})]})]})},K=n(256),V=n(79),Q=n(260),X=(n(209),function(e,t,n,c){function a(){return(a=Object(A.a)(P.a.mark((function a(){var s,r;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,U.a.get("".concat(J,"/").concat(e),{headers:{Authorization:"Token ".concat(c.token)}});case 3:s=a.sent,r=s.data,t(r[n]),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),Y=function(){var e=Object(A.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("".concat(J,"/profile"),{headers:{Authorization:"Token ".concat(t.token)}});case 3:return n=e.sent,e.abrupt("return",n.data.user);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(e){return U()({url:J+"/sign-in",method:"POST",data:{credentials:{email:e.email,password:e.password}}})};function te(e){var t=e.user,n=Object(c.useState)(),a=Object(i.a)(n,2),s=a[0],r=a[1],l=Object(c.useState)(!1),o=Object(i.a)(l,2),j=o[0],d=o[1],u=Object(c.useState)(!1),h=Object(i.a)(u,2),O=h[0],x=h[1],p=Object(c.useContext)(v),m=p.userData,f=p.dispatch,g=p.loading;if(Object(c.useEffect)((function(){f({type:"SET_LOADING"});var e=function(){var e=Object(A.a)(P.a.mark((function e(){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:n=e.sent,f({type:"GET_USER",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[f,t,j]),g)return Object(b.jsx)($,{});return Object(b.jsx)("div",{className:"profile",children:Object(b.jsxs)(z.a,{children:[Object(b.jsx)(q.a,{md:3,sm:12,xs:12,children:Object(b.jsxs)(I.a,{children:[Object(b.jsx)(K.a,{src:m.image,fluid:!0}),Object(b.jsx)(V.a,{variant:"success",onClick:function(){return x(!0)},children:"upload photo"}),Object(b.jsxs)(Q.a,{show:O,onHide:function(){return x(!1)},backdrop:"static",keyboard:!1,children:[Object(b.jsx)(Q.a.Header,{closeButton:!0,children:Object(b.jsx)(Q.a.Title,{children:"upload photo"})}),Object(b.jsx)("label",{children:Object(b.jsx)("input",{type:"file",onChange:function(e){return r(e.target.files[0])}})}),Object(b.jsx)(V.a,{variant:"success ",onClick:function(){return function(e){var n=new FormData;n.append("image",s),n.append("id",m.id),fetch("".concat(J,"/profileImage"),{method:"POST",headers:{Authorization:"Token ".concat(t.token)},body:n}).then((function(e){d((function(e){return!e}))})).catch((function(e){console.log(e)})),x(!1)}()},children:"upload"})]})]})}),Object(b.jsx)(q.a,{md:5,children:Object(b.jsxs)("div",{className:"profilescreen_info",children:[Object(b.jsx)(z.a,{children:Object(b.jsxs)("h3",{className:"flow-text",children:["Hello, ",m.first_name,"!"]})}),Object(b.jsxs)(z.a,{className:"profilescreen_buttons",children:[Object(b.jsx)(q.a,{md:6,children:Object(b.jsx)(C.b,{className:"link",to:"/hostapet",children:Object(b.jsx)(V.a,{variant:"warning",children:m.post_owned===[]?"My Listing":"Host a Pet"})})}),Object(b.jsx)(q.a,{md:6,children:Object(b.jsx)(C.b,{className:"link",to:"/myreviews",children:Object(b.jsx)(V.a,{variant:"warning",children:"My Reviews"})})})]}),Object(b.jsxs)(z.a,{className:"profilescreen_buttons",children:[Object(b.jsx)(q.a,{md:6,children:Object(b.jsx)(C.b,{to:"/pets/",children:Object(b.jsx)(V.a,{variant:"warning",children:"My Pets"})})}),Object(b.jsx)(q.a,{md:6,children:Object(b.jsx)(C.b,{to:"/change-password/",children:Object(b.jsx)(V.a,{variant:"warning",children:"Change Pw"})})})]}),Object(b.jsx)(z.a,{className:"profilescreen_buttons",children:Object(b.jsx)(q.a,{md:6,children:Object(b.jsx)(C.b,{className:"link",to:"/mybookings",children:Object(b.jsx)(V.a,{variant:"warning",children:"My Bookings"})})})})]})}),Object(b.jsx)(q.a,{className:"ml-6",md:4,children:Object(b.jsx)("i",{className:"fas fa-paw paw fa-10x"})})]})})}var ne=n(29),ce=n.n(ne),ae=n(21),se={height:"80vh"},re=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),o=Object(i.a)(r,2),j=o[0],d=o[1],u=Object(c.useState)(""),h=Object(i.a)(u,2),O=h[0],x=h[1],p=Object(c.useState)(""),m=Object(i.a)(p,2),f=m[0],v=m[1],g=Object(c.useState)(""),w=Object(i.a)(g,2),y=w[0],N=w[1],S=Object(l.g)();return Object(b.jsx)("div",{className:"row",style:se,children:Object(b.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(b.jsx)("h3",{children:"Sign Up"}),Object(b.jsxs)(ae.a,{onSubmit:function(t){t.preventDefault();var n=e.msgAlert,c=e.setUser,s={first_name:a,last_name:j,email:O,password:f,passwordConfirmation:y};(function(e){return U()({method:"POST",url:J+"/sign-up",data:{credentials:{email:e.email,password:e.password,password_confirmation:e.passwordConfirmation,first_name:e.first_name,last_name:e.last_name}}})})(s).then((function(){return ee(s)})).then((function(e){return c(e.data.user)})).then((function(){return n({heading:"Sign Up Success",message:ce.a.signUpSuccess,variant:"success"})})).then((function(){return S("/")})).catch((function(e){x(""),v(""),N(""),n({heading:"Sign Up Failed with error: "+e.message,message:ce.a.signUpFailure,variant:"danger"})}))},children:[Object(b.jsxs)(ae.a.Group,{controlId:"first_name",children:[Object(b.jsx)(ae.a.Label,{children:"First Name"}),Object(b.jsx)(ae.a.Control,{required:!0,type:"text",name:"first_name",value:a,placeholder:"Enter first name",onChange:function(e){return s(e.target.value)}})]}),Object(b.jsxs)(ae.a.Group,{controlId:"last_name",children:[Object(b.jsx)(ae.a.Label,{children:"Last Name"}),Object(b.jsx)(ae.a.Control,{type:"text",name:"last_name",value:j,placeholder:"Enter last name",onChange:function(e){return d(e.target.value)}})]}),Object(b.jsxs)(ae.a.Group,{controlId:"email",children:[Object(b.jsx)(ae.a.Label,{children:"Email address"}),Object(b.jsx)(ae.a.Control,{required:!0,type:"email",name:"email",value:O,placeholder:"Enter email",onChange:function(e){return x(e.target.value)}})]}),Object(b.jsxs)(ae.a.Group,{controlId:"password",children:[Object(b.jsx)(ae.a.Label,{children:"Password"}),Object(b.jsx)(ae.a.Control,{required:!0,name:"password",value:f,type:"password",placeholder:"Password",onChange:function(e){return v(e.target.value)}})]}),Object(b.jsxs)(ae.a.Group,{controlId:"passwordConfirmation",children:[Object(b.jsx)(ae.a.Label,{children:"Password Confirmation"}),Object(b.jsx)(ae.a.Control,{required:!0,name:"passwordConfirmation",value:y,type:"password",placeholder:"Confirm Password",onChange:function(e){return N(e.target.value)}})]}),Object(b.jsx)(V.a,{variant:"warning",type:"submit",children:"Submit"})]})]})})},ie={height:"68vh"},le=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),o=Object(i.a)(r,2),j=o[0],d=o[1],u=Object(l.g)();return Object(b.jsx)("div",{className:"row",style:ie,children:Object(b.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(b.jsx)("h3",{children:"Sign In"}),Object(b.jsxs)(ae.a,{onSubmit:function(t){t.preventDefault();var n=e.msgAlert,c=e.setUser;ee({email:a,password:j}).then((function(e){return c(e.data.user)})).then((function(){return n({heading:"Sign In Success",message:ce.a.signInSuccess,variant:"success"})})).then((function(){return u("/")})).catch((function(e){s(""),d(""),n({heading:"Sign In Failed with error: "+e.message,message:ce.a.signInFailure,variant:"danger"})}))},children:[Object(b.jsxs)(ae.a.Group,{controlId:"email",children:[Object(b.jsx)(ae.a.Label,{children:"Email address"}),Object(b.jsx)(ae.a.Control,{required:!0,type:"email",name:"email",value:a,placeholder:"Enter email",onChange:function(e){return s(e.target.value)}})]}),Object(b.jsxs)(ae.a.Group,{controlId:"password",children:[Object(b.jsx)(ae.a.Label,{children:"Password"}),Object(b.jsx)(ae.a.Control,{required:!0,name:"password",value:j,type:"password",placeholder:"Password",onChange:function(e){return d(e.target.value)}})]}),Object(b.jsx)(V.a,{variant:"warning",type:"submit",children:"Submit"})]})]})})},oe=n(257),je={height:"75vh"},de=function(e){var t=e.msgAlert,n=e.clearUser,c=e.user,a=Object(l.g)();return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"row",style:je,children:Object(b.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(b.jsx)("h2",{children:"Are you sure you want to sign out?"}),Object(b.jsx)("small",{children:"We hate to see you go..."}),Object(b.jsx)("br",{}),Object(b.jsxs)(oe.a,{children:[Object(b.jsx)(V.a,{variant:"danger",onClick:function(){(function(e){return U()({url:J+"/sign-out",method:"DELETE",headers:{Authorization:"Token token=".concat(e.token)}})})(c).finally((function(){return t({heading:"Signed Out Successfully",message:ce.a.signOutSuccess,variant:"success"})})).finally((function(){return a("/")})).finally((function(){return n()}))},children:"Sign Out"}),Object(b.jsx)(V.a,{variant:"warning",onClick:function(){a("/")},children:"Cancel"})]})]})})})},ue=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),o=Object(i.a)(r,2),j=o[0],d=o[1],u=Object(l.g)();return Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(b.jsx)("h3",{children:"Change Password"}),Object(b.jsxs)(ae.a,{onSubmit:function(t){t.preventDefault();var n=e.msgAlert,c=e.user;(function(e,t){return U()({url:J+"/change-password",method:"PATCH",headers:{Authorization:"Token token=".concat(t.token)},data:{passwords:{old:e.oldPassword,new:e.newPassword}}})})({oldPassword:a,newPassword:j},c).then((function(){return n({heading:"Change Password Success",message:ce.a.changePasswordSuccess,variant:"success"})})).then((function(){return u("/")})).catch((function(e){s(""),d(""),n({heading:"Change Password Failed with error: "+e.message,message:ce.a.changePasswordFailure,variant:"danger"})}))},children:[Object(b.jsxs)(ae.a.Group,{controlId:"oldPassword",children:[Object(b.jsx)(ae.a.Label,{children:"Old password"}),Object(b.jsx)(ae.a.Control,{required:!0,name:"oldPassword",value:a,type:"password",placeholder:"Old Password",onChange:function(e){return s(e.target.value)}})]}),Object(b.jsxs)(ae.a.Group,{controlId:"newPassword",children:[Object(b.jsx)(ae.a.Label,{children:"New Password"}),Object(b.jsx)(ae.a.Control,{required:!0,name:"newPassword",value:j,type:"password",placeholder:"New Password",onChange:function(e){return d(e.target.value)}})]}),Object(b.jsx)(V.a,{variant:"primary",type:"submit",children:"Submit"})]})]})})};function be(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(),o=Object(i.a)(r,2),j=o[0],d=o[1],u=Object(l.h)().id;Object(c.useEffect)((function(){U()({url:"".concat(J,"/pets/").concat(u),method:"GET",headers:{Authorization:"Token ".concat(e.user.token)}}).then((function(e){var t,n,c,a;s(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.pet)||void 0===n?void 0:n.name),d(null===e||void 0===e||null===(c=e.data)||void 0===c||null===(a=c.pet)||void 0===a?void 0:a.id)})).catch((function(e){console.log(e)}))}),[u,e.user.token]);return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Edit Pet details"}),Object(b.jsxs)("label",{children:["Name",Object(b.jsx)("input",{value:a,onChange:function(e){return s(e.target.value)}})]}),Object(b.jsxs)("button",{onClick:function(){return function(t){var n={pet:{name:a}};fetch("".concat(J,"/pets/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(e.user.token)},body:JSON.stringify(n)}).then((function(t){e.setTrigger((function(e){return!e}))})).catch((function(e){console.log(e)}))}(j)},children:["Update ",j]})]})}var he=function(e){var t=e.review;return Object(b.jsxs)("div",{className:"reviewlist",children:[Object(b.jsx)("h4",{children:t.pet_owner.first_name}),Object(b.jsx)(D,{value:t.rating,color:"#f8e825"}),Object(b.jsx)("p",{children:t.review})]})},Oe=(n(210),n(211),n(132));n(226);function xe(e){var t=e.user,n=Object(l.g)(),a=Object(c.useState)(new Date),s=Object(i.a)(a,2),r=s[0],j=s[1],d=Object(c.useState)(new Date),u=Object(i.a)(d,2),h=u[0],O=u[1],x=Object(l.h)().id,p={startDate:r,endDate:h,key:"selection"},m=Object(c.useState)(!1),f=Object(i.a)(m,2),v=f[0],g=f[1];return Object(b.jsx)(o.a,{children:Object(b.jsxs)("div",{className:"createbooking",children:[Object(b.jsx)(z.a,{children:Object(b.jsxs)(q.a,{sm:12,children:[Object(b.jsx)(Oe.DateRange,{className:"datepicker",ranges:[p],onChange:function(e){j(e.selection.startDate),O(e.selection.endDate)},name:"date",id:"date"}),Object(b.jsx)(V.a,{className:"createbooking_button",variant:"warning",onClick:function(e){if(null==t)n("/sign-in");else{e.preventDefault();var c={pet_owner:t.id,start_date:r,end_date:h,sitter:x};console.log(c),fetch("".concat(J,"/bookings"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(t.token)},body:JSON.stringify(c)}).then((function(e){})).catch((function(e){console.log(e)})),g(!0)}},children:"Book"})]})}),Object(b.jsx)(Q.a,{size:"sm",show:v,onHide:function(){return g(!1)},"aria-labelledby":"example-modal-sizes-title-sm",children:Object(b.jsx)(Q.a.Header,{closeButton:!0,children:Object(b.jsx)(Q.a.Title,{id:"example-modal-sizes-title-sm",children:"Booking Success"})})})]})})}n(227),n(228);var pe=function(e){var t=e.user,n=e.setTrigger,a=Object(c.useState)(""),s=Object(i.a)(a,2),r=s[0],o=s[1],j=Object(c.useState)(0),d=Object(i.a)(j,2),u=d[0],h=d[1],O=Object(c.useState)(!1),x=Object(i.a)(O,2),p=x[0],m=x[1],f=Object(l.g)(),v=Object(l.h)().id,g=function(){return m(!1)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{variant:"warning",className:"btn-floating btn-large waves-effect waves-light yellow",onClick:function(){if(null!=t)return m(!0);f("/sign-in")},children:Object(b.jsx)("i",{className:"material-icons",children:"comment"})}),Object(b.jsxs)(Q.a,{show:p,onHide:g,backdrop:"static",keyboard:!1,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(b.jsx)(Q.a.Header,{closeButton:!0,children:Object(b.jsx)(Q.a.Title,{children:"Write a review"})}),Object(b.jsxs)("label",{children:["Review",Object(b.jsx)("textarea",{required:!0,onChange:function(e){return o(e.target.value)},className:"area",value:r,rows:"8",cols:"10"})]}),Object(b.jsx)("br",{}),Object(b.jsxs)("label",{children:["Rating(1-5)",Object(b.jsx)("input",{required:!0,type:"number",value:u,onChange:function(e){return e.target.value>5?"too much":h(e.target.value)}})]}),Object(b.jsx)("br",{}),Object(b.jsx)(V.a,{onClick:function(){return function(){var e={pet_owner:t.id,sitter:v,review:r,rating:u};fetch("".concat(J,"/reviews"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(t.token)},body:JSON.stringify(e)}).then((function(e){n((function(e){return!e})),g()})).catch((function(e){console.log(e)}))}()},children:"Submit"})]})]})};function me(e){var t=e.user,n=Object(c.useState)(!1),a=Object(i.a)(n,2),s=a[0],r=a[1],o=Object(l.h)().id,j=Object(c.useContext)(x),d=j.sitter,u=j.dispatch,h=j.loading,O=j.sitterReviews;return Object(c.useEffect)((function(){u({type:"SET_LOADING"});var e=function(){var e=Object(A.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(o);case 2:t=e.sent,u({type:"GET_SITTER",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[u,o,s]),h?Object(b.jsx)($,{}):Object(b.jsx)("div",{className:"listingdetail",children:Object(b.jsxs)(z.a,{children:[Object(b.jsxs)("h1",{children:[d.first_name," ",d.last_name," "]}),Object(b.jsxs)(z.a,{children:[Object(b.jsx)(q.a,{md:2,children:Object(b.jsx)(D,{value:d.rating,text:"".concat(d.numReviews," reviews"),color:"#f8e825"})}),Object(b.jsx)(q.a,{md:6,children:Object(b.jsxs)("h5",{children:[d.city,", ",d.zipcode]})})]}),Object(b.jsx)(z.a,{children:Object(b.jsx)(K.a,{className:"sitterimage",src:d.image})}),Object(b.jsx)("hr",{}),Object(b.jsxs)(z.a,{children:[Object(b.jsxs)(q.a,{xs:12,sm:12,md:8,lg:8,className:"mt-5",children:[Object(b.jsx)("h2",{children:"About"}),Object(b.jsxs)("p",{children:[" ",d.description]})]}),Object(b.jsx)(q.a,{md:4,lg:4,children:Object(b.jsxs)("div",{className:"booking",children:[Object(b.jsxs)(z.a,{children:[Object(b.jsx)(q.a,{md:5,children:Object(b.jsxs)("h5",{children:["$",d.price," / night"]})}),Object(b.jsx)(q.a,{children:Object(b.jsx)(D,{value:d.rating,text:"".concat(d.numReviews," reviews"),color:"#f8e825"})})]}),Object(b.jsx)(xe,{user:t}),t?Object(b.jsx)(C.b,{to:"/contact/".concat(d.id),children:Object(b.jsx)(V.a,{className:"contact_button",variant:"warning",children:"Contact host"})}):Object(b.jsx)(C.b,{to:"/sign-in/",children:Object(b.jsx)(V.a,{className:"contact_button",variant:"warning",children:"Contact host"})})]})})]}),Object(b.jsx)("hr",{}),Object(b.jsx)("h2",{children:"Reviews"}),Object(b.jsxs)(z.a,{children:[Object(b.jsx)(q.a,{md:6,children:Object(b.jsx)("div",{className:"sitterreviews",children:O.map((function(e){return Object(b.jsx)("li",{className:"list",children:Object(b.jsx)(he,{review:e})},e.id)}))})}),Object(b.jsx)(q.a,{md:6,children:Object(b.jsx)(I.a,{children:Object(b.jsxs)("div",{className:"reviewbox",children:[Object(b.jsx)("h3",{children:"Review this sitter"}),Object(b.jsx)("h5",{children:"share your thought with other pet owners"}),Object(b.jsx)(pe,{setTrigger:r,user:t})]})})})]})]})})}n(229);var fe=function(e){return e.myPets.map((function(e){return Object(b.jsx)(C.b,{to:"/pets/".concat(e.id),children:e.name},e.id)})),Object(b.jsxs)("div",{className:"profilepets",children:[Object(b.jsx)("h1",{children:"My Pets"}),Object(b.jsx)("div",{className:"profilepets_pet",children:e.myPets&&e.myPets.filter((function(e){return null!==e.name&&""!==e.name})).map((function(t){return Object(b.jsxs)("div",{className:"pet",children:[Object(b.jsxs)(C.b,{style:{textDecoration:"none",color:"black"},to:"/pets/".concat(t.id),children:[Object(b.jsx)(K.a,{src:t.image,className:"rounded-circle image"}),Object(b.jsx)("h4",{className:"pet_name",children:t.name})]},t.id),Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"btn-floating btn-small waves-effect waves-light red accent-2",style:{margin:"10px"},onClick:function(){return n=t.id,void U()({url:"".concat(J,"/pets/").concat(n),method:"DELETE",headers:{Authorization:"Token ".concat(e.user.token)}}).then((function(t){e.setTrigger((function(e){return!e}))})).catch((function(e){console.log(e)}));var n},children:Object(b.jsx)("i",{className:"material-icons",children:"delete"})})]})}))})]})};n(230);function ve(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(),l=Object(i.a)(r,2),o=l[0],j=l[1],d=Object(c.useState)(!1),u=Object(i.a)(d,2),h=u[0],O=u[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)(V.a,{variant:"warning",onClick:function(){return O(!0)},children:"Add Pet+"}),Object(b.jsxs)(Q.a,{show:h,onHide:function(){return O(!1)},backdrop:"static",keyboard:!1,children:[Object(b.jsx)(Q.a.Header,{closeButton:!0,children:Object(b.jsx)(Q.a.Title,{children:"Add your Pet"})}),Object(b.jsxs)("label",{children:["Pet Name",Object(b.jsx)("input",{type:"text",value:a,onChange:function(e){return s(e.target.value)}})]}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{children:Object(b.jsx)("input",{type:"file",onChange:function(e){return j(e.target.files[0])}})}),Object(b.jsx)("br",{}),Object(b.jsx)(V.a,{onClick:function(){return function(t){var n=new FormData;n.append("image",o),n.append("name",a),n.append("pet_owner",e.user.id),fetch("".concat(J,"/pets"),{method:"POST",headers:{Authorization:"Token ".concat(e.user.token)},body:n}).then((function(t){e.setTrigger((function(e){return!e}))})).catch((function(e){console.log(e)})),O(!1)}()},children:"Add Pet"})]})]})}n(231);var ge=function(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(!1),l=Object(i.a)(r,2),o=l[0],j=l[1];return Object(c.useEffect)((function(){function t(){return(t=Object(A.a)(P.a.mark((function t(){var n,c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.a.get("".concat(J,"/profile"),{headers:{Authorization:"Token ".concat(e.user.token)}});case 2:n=t.sent,c=n.data,console.log(c),s(c.user.pets_owned);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[o]),Object(b.jsxs)("div",{className:"pet_screen",children:[Object(b.jsx)(fe,{myPets:a,user:e.user,setTrigger:j}),Object(b.jsx)("div",{className:"createpets",children:Object(b.jsx)(ve,{user:e.user,setTrigger:j})})]})};var we=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)("footer",{className:"page-footer",children:[Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col l6 s12",children:[Object(b.jsx)("h5",{className:"white-text",children:"About"}),Object(b.jsx)("p",{className:"grey-text text-lighten-4",children:"We are three software developers who wanted to create an easy and reliable source for pet owners to find a caretaker when they're busy or traveling. "})]}),Object(b.jsxs)("div",{className:"col l4 offset-l2 s12",children:[Object(b.jsx)("h5",{className:"white-text",children:"Contributors"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"grey-text text-lighten-3",style:{textDecoration:"none"},href:"https://github.com/galyverasi",children:"Galyver Asi"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"grey-text text-lighten-3",style:{textDecoration:"none"},href:"https://github.com/kellylarrea",children:"Kelly Larrea"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"grey-text text-lighten-3",style:{textDecoration:"none"},href:"https://github.com/lawrencesalinas",children:"Lawrence Salinas"})})]})]})]})}),Object(b.jsx)("div",{className:"footer-copyright",children:Object(b.jsxs)("div",{className:"container",children:["\xa9 2022 Pawsibly",Object(b.jsx)("a",{className:"grey-text text-lighten-4 right",style:{textDecoration:"none"},href:"https://github.com/kellylarrea/pawsibly-react",children:"Learn more on GitHub"})]})})]})})};var ye=function(e){var t=e.userBooking,n={January:"01",Febuary:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"},c=function(e){var t=[],c=e.slice(5,7);for(var a in n)n[a]===c&&t.push(a);return t.push(e.slice(0,4)),t.push(e.slice(8,10)),"".concat(t[0]," ").concat(t[2]," ").concat(t[1])};return Object(b.jsx)("div",{children:t.map((function(e){return Object(b.jsx)("div",{className:"container small",children:Object(b.jsx)("div",{className:"row center-cols justify-center",children:Object(b.jsx)(L.Row,{className:"small center-align",children:Object(b.jsx)("div",{className:"col s6 offset-s3",children:Object(b.jsxs)(L.Card,{className:"card",actions:[Object(b.jsx)("a",{href:"/#",children:"Back To Top"},"1")],closeIcon:Object(b.jsx)(L.Icon,{children:"close"}),header:Object(b.jsx)(L.CardTitle,{image:e.sitter.image}),title:e.sitter.first_name,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h6",{children:"Drop-off date:"})," ",c(e.start_date)]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h6",{children:"Pick-up date:"})," ",c(e.end_date)]}),Object(b.jsxs)("div",{children:["Confirmation# ",e.id]}),Object(b.jsx)("br",{}),Object(b.jsx)(C.b,{to:"/sitterListing/".concat(e.sitter.id),children:Object(b.jsxs)("h6",{children:["Go to ",e.sitter.first_name," Page"]})})]})})})})})}))})};n(232);var Ne=function(e){var t=e.user,n=Object(c.useState)([]),a=Object(i.a)(n,2),s=a[0],r=a[1];return Object(c.useEffect)((function(){try{X("bookings",r,"bookings",t)}catch(e){console.log(e)}}),[]),Object(b.jsxs)("div",{className:"mybookingscreen",children:[Object(b.jsx)("h2",{className:"center-align",children:"All Bookings:"}),Object(b.jsx)(ye,{userBooking:s})]})};var Se=function(e){var t=e.user,n=Object(c.useState)([]),a=Object(i.a)(n,2),s=a[0],r=a[1];return Object(c.useEffect)((function(){X("reviews",r,"reviews",t)}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{className:"center",children:"These are the reviews I posted:"}),Object(b.jsx)("div",{children:s.map((function(e){return Object(b.jsx)("div",{className:"container small",children:Object(b.jsx)("div",{className:"row center-cols justify-center",children:Object(b.jsx)(L.Row,{className:"small center-align",children:Object(b.jsx)("div",{className:"col s6 offset-s3",children:Object(b.jsxs)(L.Card,{className:"card",actions:[Object(b.jsx)("a",{href:"/#",children:"Back To Top"},"1")],closeIcon:Object(b.jsx)(L.Icon,{children:"close"}),header:Object(b.jsx)(L.CardTitle,{}),revealIcon:Object(b.jsx)(L.Icon,{children:"more_vert"}),title:e.sitter,children:[Object(b.jsx)("p",{children:e.rating}),Object(b.jsx)(D,{color:"#f8e825",value:e.rating}),Object(b.jsx)("p",{children:e.review}),Object(b.jsxs)(C.b,{to:"/sitterListing/".concat(e.id),children:["Go to ",e.sitter,"'s Page"]})]})})})})})}))}),")"]})};function ke(e){var t=e.user,n=e.setTrigger,a=Object(c.useState)(""),s=Object(i.a)(a,2),r=s[0],o=s[1],j=Object(c.useState)(t.first_name),d=Object(i.a)(j,2),u=d[0],h=d[1],O=Object(c.useState)(""),x=Object(i.a)(O,2),p=x[0],m=x[1],f=Object(c.useState)(0),v=Object(i.a)(f,2),g=v[0],w=v[1],y=Object(c.useState)(""),N=Object(i.a)(y,2),S=N[0],k=N[1],C=Object(c.useState)(""),T=Object(i.a)(C,2),_=T[0],E=T[1],P=Object(c.useState)(),A=Object(i.a)(P,2),I=A[0],D=A[1],R=t.id,G=Object(l.g)();return Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{children:"Title"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:r,title:"title",id:"title",onChange:function(e){return o(e.target.value)}}),Object(b.jsx)("label",{children:"Name"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:u,first_name:"first_name",id:"name",onChange:function(e){return h(e.target.value)}}),Object(b.jsx)("label",{children:"Zipcode"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:p,name:"zipcode",id:"zipcode",onChange:function(e){return m(e.target.value)}}),Object(b.jsx)("label",{children:"Price"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:g,name:"price",id:"price",onChange:function(e){return w(e.target.value)}}),Object(b.jsx)("label",{children:"City"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:_,name:"city",id:"city",onChange:function(e){return E(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{children:"Description"}),Object(b.jsx)("textarea",{className:"input",type:"text",required:!0,value:S,name:"description",id:"description",onChange:function(e){return k(e.target.value)}}),Object(b.jsx)("input",{type:"file",onChange:function(e){return D(e.target.files[0])}}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(V.a,{onClick:function(e){var c=new FormData;c.append("image",I),c.append("title",r),c.append("first_name",u),c.append("zipcode",p),c.append("price",g),c.append("city",_),c.append("description",S),c.append("post_owner",R),fetch("".concat(J,"/sitters"),{method:"POST",headers:{Authorization:"Token ".concat(t.token)},body:c}).then((function(e){n((function(e){return!e})),G("/")})).catch((function(e){console.log(e)}))},variant:"success",children:"Post"})]})}var Ce=function(e){var t=e.children;return Object(b.jsx)(o.a,{children:Object(b.jsx)(z.a,{className:"justify-content-md-center",children:Object(b.jsx)(q.a,{xs:12,md:6,children:t})})})};n(125);var Te=function(e){var t=e.user,n=Object(c.useContext)(v),a=n.userData,s=n.dispatch,r=n.loading,l=Object(c.useState)(!1),o=Object(i.a)(l,2),j=o[0],d=o[1];Object(c.useEffect)((function(){s({type:"SET_LOADING"});var e=function(){var e=Object(A.a)(P.a.mark((function e(){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:n=e.sent,s({type:"GET_USER",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s,t,j]);var u=function(){var e=a.post_owned.map((function(e){return e.id.toString()}));U()({url:"".concat(J,"/sitters/").concat(e),method:"DELETE",headers:{Authorization:"Token ".concat(t.token)}}).then((function(e){d((function(e){return!e}))})).catch((function(e){console.log(e)}))};return r?Object(b.jsx)($,{}):Object(b.jsx)("div",{className:"hostapetscreen",children:a.post_owned.length>0?Object(b.jsx)(Ce,{children:a.post_owned.map((function(e){return Object(b.jsxs)("div",{className:"postbuttons",children:[Object(b.jsx)(G,{sitter:e}),Object(b.jsx)(C.b,{to:"/editlisting/",children:Object(b.jsxs)("button",{id:"edit_button",children:[" ",Object(b.jsx)("i",{className:"fa fa-pencil-alt","aria-hidden":"true"})," Edit"]})}),Object(b.jsxs)("button",{onClick:u,id:"delete_button",children:[" ",Object(b.jsxs)("i",{className:"fa fa-trash","aria-hidden":"true",children:[" ","Delete"]})]})]})}))}):Object(b.jsxs)(Ce,{children:[Object(b.jsx)("h1",{children:"Become a Pet Host"}),Object(b.jsx)(ke,{setTrigger:d,user:t})]})})};n(233);var _e=function(){var e=Object(l.h)().id,t=Object(c.useContext)(x),n=t.sitter,a=t.dispatch,s=t.loading;Object(c.useEffect)((function(){a({type:"SET_LOADING"});var t=function(){var t=Object(A.a)(P.a.mark((function t(){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(e);case 2:n=t.sent,a({type:"GET_SITTER",payload:n});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[a,e]);var r=n.post_owner.email;return s?Object(b.jsx)($,{}):Object(b.jsxs)("div",{className:"contactscreen",children:[Object(b.jsx)("h3",{children:"Contact"}),Object(b.jsx)("br",{}),Object(b.jsxs)("h3",{children:["Have questions? Email ",n.first_name]}),Object(b.jsx)("br",{}),Object(b.jsx)("h6",{children:"Email: "}),Object(b.jsxs)("h5",{children:[" ",r]})]})},Ee=(n(234),n(259));n(235);var Pe=function(e){var t=e.id,n=e.img,c=e.location,a=e.title,s=e.description,r=e.review,i=e.price,l=e.total,o=e.numReviews,j=e.zipcode;return Object(b.jsx)(C.b,{className:"links",to:"/sitterlisting/".concat(t),children:Object(b.jsxs)("div",{className:"searchResult",children:[Object(b.jsx)("img",{src:n,alt:""}),Object(b.jsxs)("div",{className:"searchResult_info",children:[Object(b.jsxs)("div",{className:"searchResult_infoTop",children:[Object(b.jsx)("h2",{children:a}),Object(b.jsxs)("h3",{children:[c," ",j]}),Object(b.jsx)("p",{children:"_____"}),Object(b.jsx)("p",{children:s})]}),Object(b.jsxs)("div",{className:"searchResult_infoBottom",children:[Object(b.jsxs)("div",{className:"searchResult_reviews",children:[Object(b.jsx)(D,{value:r,color:"#f8e825"}),r," from (",o," reviews)"]}),Object(b.jsxs)("div",{className:"searchResults_price",children:[Object(b.jsxs)("h2",{children:["$",i," / night"]}),Object(b.jsxs)("p",{children:["$",l," total"]})]})]})]})]})})};var Ae=function(){var e=Object(c.useContext)(x),t=e.sitters,n=e.loading,a=e.dispatch,s=Object(l.h)().url;Object(c.useEffect)((function(){a({type:"SET_LOADING"});var e=function(){var e=Object(A.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,a({type:"GET_SITTERS",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a,s]);var r=t.filter((function(e){return e.city.toLowerCase().includes(s.toLowerCase())||e.zipcode.toString().includes(s.toString())})),i=r.length;return n?Object(b.jsx)($,{}):Object(b.jsxs)("div",{className:"SearchPage",children:[Object(b.jsxs)("div",{className:"searchPage_info",children:[Object(b.jsx)("h1",{children:"Sitters nearby"}),Object(b.jsxs)("p",{children:[i," results"]}),Object(b.jsx)(Ee.a,{variant:"outlined",children:"Host A Pet"})]}),r.map((function(e){return Object(b.jsx)(Pe,{id:e.id,img:e.image,location:e.city,title:e.title,description:e.description,review:e.rating,price:e.price,total:e.price,numReviews:e.numReviews,zipcode:e.zipcode})}))]})};var Ie=function(e){var t=e.user,n=Object(c.useContext)(v),a=n.userData,s=n.dispatch,r=n.loading,o=Object(c.useState)(!1),j=Object(i.a)(o,2),d=j[0],u=j[1];Object(c.useEffect)((function(){s({type:"SET_LOADING"});var e=function(){var e=Object(A.a)(P.a.mark((function e(){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:n=e.sent,s({type:"GET_USER",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s,t,d]);var h=a.post_owned.map((function(e){return e.id.toString()})),O=a.post_owned.map((function(e){return e.first_name})),x=a.post_owned.map((function(e){return e.title})),p=a.post_owned.map((function(e){return e.zipcode})),m=a.post_owned.map((function(e){return e.city})),f=a.post_owned.map((function(e){return e.price})),g=a.post_owned.map((function(e){return e.description})),w=a.post_owned.map((function(e){return e.image})),y=Object(c.useState)(x),N=Object(i.a)(y,2),S=N[0],k=N[1],C=Object(c.useState)(O),T=Object(i.a)(C,2),_=T[0],E=T[1],I=Object(c.useState)(p),D=Object(i.a)(I,2),R=D[0],G=D[1],L=Object(c.useState)(f),z=Object(i.a)(L,2),q=z[0],H=z[1],U=Object(c.useState)(g),F=Object(i.a)(U,2),B=F[0],M=F[1],W=Object(c.useState)(m),Z=Object(i.a)(W,2),K=Z[0],Q=Z[1],X=Object(c.useState)(w),ee=Object(i.a)(X,2),te=ee[0],ne=ee[1],ce=t.id,ae=Object(l.g)();return r?Object(b.jsx)($,{}):Object(b.jsx)("div",{children:Object(b.jsxs)(Ce,{className:"editcontainer",children:[Object(b.jsx)("h1",{children:"Edit sitter listing"}),Object(b.jsx)("label",{children:"Title"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:S,title:"title",id:"title",onChange:function(e){return k(e.target.value)}}),Object(b.jsx)("label",{children:"Name"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:_,first_name:"first_name",id:"name",onChange:function(e){return E(e.target.value)}}),Object(b.jsx)("label",{children:"Zipcode"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:R,name:"zipcode",id:"zipcode",onChange:function(e){return G(e.target.value)}}),Object(b.jsx)("label",{children:"Price"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:q,name:"price",id:"price",onChange:function(e){return H(e.target.value)}}),Object(b.jsx)("label",{children:"City"}),Object(b.jsx)("input",{className:"input",type:"text",required:!0,value:K,name:"city",id:"city",onChange:function(e){return Q(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{children:"Description"}),Object(b.jsx)("textArea",{className:"input",type:"text",required:!0,value:B,name:"description",id:"description",onChange:function(e){return M(e.target.value)}}),Object(b.jsx)("input",{type:"file",onChange:function(e){return ne(e.target.files[0])}}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(V.a,{onClick:function(e){var n=new FormData;n.append("image",te),n.append("title",S),n.append("first_name",_),n.append("zipcode",R),n.append("price",q),n.append("city",K),n.append("description",B),n.append("post_owner",ce),fetch("".concat(J,"/sitters/").concat(h),{method:"PATCH",headers:{Authorization:"Token ".concat(t.token)},body:n}).then((function(e){u((function(e){return!e})),ae("/")})).catch((function(e){console.log(e)}))},variant:"success",children:"Save changes"})]})})},De=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),r=Object(i.a)(s,2),d=r[0],u=r[1],h=function(e){u((function(t){return t.filter((function(t){return t.id!==e}))}))},x=function(e){var t=e.heading,n=e.message,c=e.variant,a=Object(j.a)();u((function(){return[{heading:t,message:n,variant:c,id:a}]}))};return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(f,{children:Object(b.jsxs)(O,{children:[Object(b.jsx)(T,{user:n}),Object(b.jsx)(o.a,{children:Object(b.jsxs)(l.d,{children:[Object(b.jsx)(l.b,{path:"/",element:Object(b.jsx)(Z,{msgAlert:x,user:n})}),Object(b.jsx)(l.b,{path:"/sign-up",element:Object(b.jsx)(re,{msgAlert:x,setUser:a})}),Object(b.jsx)(l.b,{path:"/sign-in",element:Object(b.jsx)(le,{msgAlert:x,setUser:a})}),Object(b.jsx)(l.b,{path:"/searchpage/:url",element:Object(b.jsx)(Ae,{user:n})}),Object(b.jsx)(l.b,{path:"/sitterlisting/:id",element:Object(b.jsx)(me,{user:n})}),Object(b.jsx)(l.b,{path:"/contact/:id",element:Object(b.jsx)(_e,{user:n})}),Object(b.jsx)(l.b,{path:"/profile",element:Object(b.jsx)(_,{user:n,children:Object(b.jsx)(te,{user:n})})}),Object(b.jsx)(l.b,{path:"/pets",element:Object(b.jsx)(_,{user:n,children:Object(b.jsx)(ge,{user:n})})}),Object(b.jsx)(l.b,{path:"/pets/:id",element:Object(b.jsx)(_,{user:n,children:Object(b.jsx)(be,{user:n})})}),Object(b.jsx)(l.b,{path:"/sign-out",element:Object(b.jsx)(_,{user:n,children:Object(b.jsx)(de,{msgAlert:x,clearUser:function(){a(null)},user:n})})}),Object(b.jsx)(l.b,{path:"/change-password",element:Object(b.jsx)(_,{user:n,children:Object(b.jsx)(ue,{msgAlert:x,user:n})})}),Object(b.jsx)(l.b,{path:"/mybookings",element:Object(b.jsx)(_,{user:n,children:Object(b.jsx)(Ne,{user:n})})}),Object(b.jsx)(l.b,{path:"/myreviews",element:Object(b.jsx)(_,{user:n,children:Object(b.jsx)(Se,{user:n})})}),Object(b.jsx)(l.b,{path:"/hostapet",element:Object(b.jsx)(_,{user:n,children:Object(b.jsx)(Te,{user:n})})}),Object(b.jsx)(l.b,{path:"/editlisting/",element:Object(b.jsx)(_,{user:n,children:Object(b.jsx)(Ie,{user:n})})})]})}),d.map((function(e){return Object(b.jsx)(k,{heading:e.heading,variant:e.variant,message:e.message,id:e.id,deleteAlert:h},e.id)})),Object(b.jsx)(we,{})]})})})};n(240);r.a.render(Object(b.jsx)(C.a,{children:Object(b.jsx)(De,{})}),document.getElementById("root"))},29:function(e,t){}},[[241,1,2]]]);
//# sourceMappingURL=main.7b70b5f7.chunk.js.map